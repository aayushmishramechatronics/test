<ion-content class="ion-padding" class="theme-bg-content-area">
  <div class="container">
    <div class="guest-list-filter row m-0 my-2 ion-hide-sm-down">
      <div style="width: 25%;" class="px-2" >
        <label>Check In</label>
        <ion-datetime [(ngModel)]="checkIn" displayFormat="DD/MM/YYYY" ></ion-datetime>
      </div>
      <div style="width: 25%;" class="px-2">
        <label>Check Out</label>
        <ion-datetime [(ngModel)]="checkOut" displayFormat="DD/MM/YYYY" ></ion-datetime>
      </div>
      <div style="width: 25%;" class="px-2">
        <label class="d-block">&nbsp;</label>
        <ion-button size="default" class="slot-confirmation-btn" tappable (click)="getGuests()">
          <span class="mr-1">Search</span>
        </ion-button>
      </div>
      <div style="width: 25%;">
        <label class="d-block">&nbsp;</label>
        <ion-button *ngIf="user?.name === 'Front Desk'" tappable class="pay-now-btn ml-2" fill="outline" (click)="addGuest()">
          <span>Add Guest</span>
        </ion-button>
      </div>
    </div>
    <div class="guest-list-filter my-2 ion-hide-sm-up">
      <div class="row m-0">
        <div style="width: 50%;" class="px-2" >
          <label>Check In</label>
          <ion-datetime [value]="checkIn" displayFormat="DD/MM/YYYY" ></ion-datetime>
        </div>
        <div style="width: 50%;" class="px-2">
          <label>Check In</label>
          <ion-datetime [value]="checkOut" displayFormat="DD/MM/YYYY" ></ion-datetime>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div class="pl-2">
          <label class="d-block">&nbsp;</label>
          <ion-button size="default" class="slot-confirmation-btn" tappable (click)="getGuests()">
            <span class="mr-1">Search</span>
          </ion-button>
        </div>
        <div class="pr-2">
          <label class="d-block">&nbsp;</label>
          <ion-button *ngIf="user?.name === 'Front Desk'" tappable class="pay-now-btn ml-2" fill="outline" (click)="addGuest()">
            <span>Add Guest</span>
          </ion-button>
        </div>
      </div>
    </div>
    <ion-grid class="consultation-list-container p-0">
      <ion-row style="width:100%;" class="p-0">
        <ion-col class="p-0" size="12">
          <table class="consultation-table">
            <tbody>
              <tr>
                <td style="width: 15%;" class="availability-column ion-hide-sm-down">
                  <div class="d-flex align-items-center">Customer Name</div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  Booking Time
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label>Room Detail</ion-label>
                  </div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label class="value-label ion-text-wrap">Check In</ion-label>
                  </div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label class="value-label ion-text-wrap">Check Out</ion-label>
                  </div>
                </td>
                <td style="width: 25%;" class="ion-hide-sm-down">
                  <div class="action-container">
                    <ion-label class="ion-text-wrap mr-1" style="min-width: 200px;">
                      <span>Status</span>
                    </ion-label>
                  </div>
                </td>
              </tr>
              <tr *ngFor="let item of guestList">
                <td style="width: 15%;" class="availability-column ion-hide-sm-down">
                  <div class="d-flex align-items-center">
                    {{ item.customerName }}
                  </div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  {{ item.bookTime ? ( item.bookTime | date : 'dd mm yyyy hh:mm a') : ''}}
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label>
                      {{ item.roomNumber }}
                    </ion-label>
                    <ion-label class="text-small">
                      {{ item.roomType }}
                    </ion-label>
                  </div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label class="value-label ion-text-wrap">{{ item.checkIn | date: 'MMM dd, yyyy hh:mm a' }}
                    </ion-label>
                  </div>
                </td>
                <td style="width: 15%;" class="ion-hide-sm-down">
                  <div class="value-group">
                    <ion-label class="value-label ion-text-wrap">{{ item.checkOut | date: 'MMM dd, yyyy hh:mm a' }}
                    </ion-label>
                  </div>
                </td>
                <td style="width: 25%;" class="ion-hide-sm-down">
                  <div class="action-container">
                    <ion-label class="ion-text-wrap mr-1" style="min-width: 200px;">
                      <span [className]="'consultation-status-tag new'">In Progress</span>
                    </ion-label>
                    <!-- <div class="options">
                      <ion-button (click)="item.options = !item.options " slot="end" tappable strong="true"
                        class="menu-btn" fill="block">
                        <ion-icon name="ellipsis-vertical"></ion-icon>
                      </ion-button>
                    </div> -->
                    <div *ngIf="item.options" class="status-popover">
                      <ion-icon name="close" (click)="item.options = false"></ion-icon>
                      <ul>
                        <li><button>In Progress</button></li>
                        <li><button>Completed</button></li>
                        <li><button>Cancel</button></li>
                      </ul>
                    </div>
                  </div>
                </td>
                <td style="width: 97%;padding-top:0;" class="ion-hide-sm-up">
                  <div class="mobile-view-contaner">
                    <ion-label class="name"><b>Customer Name:- </b>{{ item.customerName}}</ion-label>
                    <ion-label class="name"><b>Booking Time:- </b>{{ item.bookTime ? ( item.bookTime | date : 'dd mm yyyy hh:mm a') : ''}}</ion-label>
                    <ion-label class="name"><b>Room:- </b>{{ item.roomType }} ({{ item.roomNumber }})</ion-label>
                    <ion-label class="name"><b>Booking Time:- </b>{{ item.checkIn ? ( item.checkIn | date : 'dd mm yyyy hh:mm a') : ''}}</ion-label>
                    <ion-label class="name"><b>Booking Time:- </b>{{ item.checkOut ? ( item.checkOut | date : 'dd mm yyyy hh:mm a') : ''}}</ion-label>
                    <div class="status">
                      <div class="d-flex">
                        <ion-label class="ion-text-wrap mr-1">
                          <span [className]="'consultation-status-tag new'">New</span>
                        </ion-label>
                      </div>
                    </div>
                    <div class="action-container">
                      <div class="options">
                        <ion-button (click)="item.options = !item.options" slot="end" tappable strong="true" class="menu-btn" fill="block">
                          <ion-icon name="ellipsis-vertical"></ion-icon>
                        </ion-button>
                      </div>
                      <div *ngIf="item.options" class="status-popover">
                        <ion-icon name="close" (click)="item.options = false"></ion-icon>
                        <ul>
                          <li><button>In Progress</button></li>
                          <li><button>Completed</button></li>
                          <li><button>Cancel</button></li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <div class="no-result" *ngIf="guestList && guestList.length === 0">
            No records found!
          </div>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
