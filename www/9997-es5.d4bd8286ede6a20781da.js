!function(){"use strict";function e(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,r,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",u=o.toStringTag||"@@toStringTag";function s(e,o,i,u){var s=o&&o.prototype instanceof c?o:c,l=Object.create(s.prototype);return t(l,"_invoke",function(e,t,o){var i,u,s,c=0,l=o||[],p=!1,f={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(e,t){return i=e,u=0,s=n,f.n=t,a}};function d(e,t){for(u=e,s=t,r=0;!p&&c&&!o&&r<l.length;r++){var o,i=l[r],d=f.p,h=i[2];e>3?(o=h===t)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=n):i[0]<=d&&((o=e<2&&d<i[1])?(u=0,f.v=t,f.n=i[1]):d<h&&(o=e<3||i[0]>t||t>h)&&(i[4]=e,i[5]=t,f.n=h,u=0))}if(o||e>1)return a;throw p=!0,t}return function(o,l,h){if(c>1)throw TypeError("Generator is already running");for(p&&1===l&&d(l,h),u=l,s=h;(r=u<2?n:s)||!p;){i||(u?u<3?(u>1&&(f.n=-1),d(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),r=i[o]){if(!(r=r.call(i,s)))throw TypeError("iterator result is not an object");if(!r.done)return r;s=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=n}else if((r=(p=f.n<0)?s:e.call(t,f))!==a)break}catch(r){i=n,u=1,s=r}finally{c=1}}return{value:r,done:p}}}(e,i,u),!0),l}var a={};function c(){}function l(){}function p(){}r=Object.getPrototypeOf;var f=[][i]?r(r([][i]())):(t(r={},i,function(){return this}),r),d=p.prototype=c.prototype=Object.create(f);function h(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,t(e,u,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=p,t(d,"constructor",p),t(p,"constructor",l),l.displayName="GeneratorFunction",t(p,u,"GeneratorFunction"),t(d),t(d,u,"Generator"),t(d,i,function(){return this}),t(d,"toString",function(){return"[object Generator]"}),(e=function(){return{w:s,m:h}})()}function t(e,n,r,o){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}t=function(e,n,r,o){if(n)i?i(e,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):e[n]=r;else{var u=function(n,r){t(e,n,function(e){return this._invoke(n,r,e)})};u("next",0),u("throw",1),u("return",2)}},t(e,n,r,o)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(self.webpackChunkschedulingApp=self.webpackChunkschedulingApp||[]).push([[9997],{99997:function(t,r,i){i.r(r),i.d(r,{UserShopsPageModule:function(){return A}});var u=i(12057),s=i(24751),a=i(46982),c=i(13644),l=i(97582),p=i(85386),f=i(292),d=i(51900),h=i(48561);function v(e,t){if(1&e){var n=f.EpF();f.TgZ(0,"ion-button",5),f.NdJ("click",function(){return f.CHM(n),f.oxw().addGuest()}),f.TgZ(1,"span"),f._uU(2,"Add Guest"),f.qZA(),f.qZA()}}var b=function(e){return["/booked-customers",e]},g=function(e){return["/shop-keeper",e]};function y(e,t){if(1&e){var n=f.EpF();f.TgZ(0,"ion-item",6),f.TgZ(1,"ion-grid"),f.TgZ(2,"ion-row"),f.TgZ(3,"ion-col",7),f.TgZ(4,"ion-label",8),f._uU(5),f.qZA(),f.qZA(),f.TgZ(6,"ion-col",7),f.TgZ(7,"ion-label",8),f._uU(8),f.qZA(),f.qZA(),f.TgZ(9,"ion-col",7),f.TgZ(10,"ion-label",8),f._uU(11),f.ALo(12,"parseNumber"),f.qZA(),f.qZA(),f.TgZ(13,"ion-col"),f.TgZ(14,"ion-button",9),f.TgZ(15,"span"),f._uU(16,"View Request"),f.qZA(),f.qZA(),f.TgZ(17,"ion-button",9),f.TgZ(18,"span"),f._uU(19,"Edit"),f.qZA(),f.qZA(),f.TgZ(20,"ion-button",10),f.NdJ("click",function(){var e=f.CHM(n).$implicit;return f.oxw().deleteShop(e)}),f.TgZ(21,"span"),f._uU(22,"Delete"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&e){var r=t.$implicit,o=f.oxw();f.xp6(5),f.Oqu(r.name),f.xp6(3),f.Oqu(r.description),f.xp6(3),f.Oqu(o.vendorDeatil.conceirge?"":f.lcZ(12,5,r.phonenumber)),f.xp6(3),f.Q6J("routerLink",f.VKq(7,b,r.phonenumber)),f.xp6(3),f.Q6J("routerLink",f.VKq(9,g,r.phonenumber))}}var m,Z=[{path:"",component:(m=function(){return o(function e(t,r,o,i){n(this,e),this.appService=t,this.router=r,this.loadingController=o,this.utilAlertService=i,this.userShops=[],this.getUserDetail(),this.getVendorDetail()},[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){}},{key:"getUserDetail",value:function(){var e=this;this.appService.userDetail.subscribe(function(t){e.user=t,t&&(e.userShops=e.user.shops)})}},{key:"getVendorDetail",value:function(){var e=this;this.appService.vendorDeatil.subscribe(function(t){e.vendorDeatil=t})}},{key:"addShop",value:function(){return(0,l.mG)(this,void 0,void 0,e().m(function t(){var n,r=this;return e().w(function(e){for(;;)switch(e.n){case 0:if(!this.user){e.n=3;break}return e.n=1,this.loadingController.create({message:"Loading..."});case 1:return n=e.v,e.n=2,n.present();case 2:this.appService.signup({name:"",description:"",phonenumber:this.user.phonenumber+"_new",idCategory:this.vendorDeatil.idCategory,password:"",type:"S"}).subscribe(function(e){e&&e.body&&(n.dismiss(),r.user.shops.push(e.body),localStorage.setItem("user",JSON.stringify(r.user)),r.appService.setUserDetail(r.user),r.router.navigate(["/shop-keeper",e.body.phonenumber]))}),e.n=4;break;case 3:this.utilAlertService.showAlert("Internel server error! Please try after some time");case 4:return e.a(2)}},t,this)}))}},{key:"addGuest",value:function(){this.router.navigate(["/guest"])}},{key:"viewGuests",value:function(){this.router.navigate(["/guests-list"])}},{key:"deleteShop",value:function(e){var t=this;this.appService.deleteShop({query:e.userId}).subscribe(function(e){t.getUserDetail();var n=t.userShops.findIndex(function(t){return t.userId===e});-1!==n&&(t.userShops.splice(n,1),t.user.shops=t.userShops,t.appService.setUserDetail(t.user))})}}])}(),m.\u0275fac=function(e){return new(e||m)(f.Y36(p.z),f.Y36(c.F0),f.Y36(a.HT),f.Y36(d.F))},m.\u0275cmp=f.Xpm({type:m,selectors:[["app-user-shops"]],decls:9,vars:3,consts:[[1,"container"],[1,"pay-now-btn-fill",3,"click"],["tappable","","class","pay-now-btn ml-2","fill","outline",3,"click",4,"ngIf"],[1,"booked-customer-list",2,"display","block"],["class","booked-customer-item",4,"ngFor","ngForOf"],["tappable","","fill","outline",1,"pay-now-btn","ml-2",3,"click"],[1,"booked-customer-item"],["size-xs","12","size-sm","12","size-md","6","size-lg","3"],[1,"ion-text-wrap"],["tappable","","fill","outline",1,"pay-now-btn",3,"routerLink"],["tappable","","fill","outline",1,"pay-now-btn",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"ion-content"),f.TgZ(1,"div",0),f.TgZ(2,"ion-item"),f.TgZ(3,"ion-button",1),f.NdJ("click",function(){return t.addShop()}),f.TgZ(4,"span"),f._uU(5),f.qZA(),f.qZA(),f.YNc(6,v,3,0,"ion-button",2),f.qZA(),f.TgZ(7,"ion-list",3),f.YNc(8,y,23,11,"ion-item",4),f.qZA(),f.qZA(),f.qZA()),2&e&&(f.xp6(5),f.hij("Add New ",t.vendorDeatil?t.vendorDeatil.serviceLabel:"Service",""),f.xp6(1),f.Q6J("ngIf","Front Desk"===(null==t.user?null:t.user.name)),f.xp6(2),f.Q6J("ngForOf",t.userShops))},directives:[a.W2,a.Ie,a.YG,u.O5,a.q_,u.sg,a.jY,a.Nd,a.wI,a.Q$,a.YI,c.rH],pipes:[h.i],styles:[".v-divider[_ngcontent-%COMP%]{width:1px!important;padding:0;font-size:1px;flex:none;max-width:1px!important;border-right:1px solid #dcdcdc}.pay-now-btn-fill[_ngcontent-%COMP%]{--background: #1a8cd2;--color: white}"]}),m)}],w=function(){var e=o(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[c.Bz.forChild(Z)],c.Bz]}),e}(),k=i(45642),A=function(){var e=o(function e(){n(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=f.oAB({type:e}),e.\u0275inj=f.cJS({imports:[[u.ez,s.u5,a.Pc,k.K,w]]}),e}()}}])}();