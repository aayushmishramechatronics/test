"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1152],{1152:(U,d,r)=>{r.r(d),r.d(d,{UserShopsPageModule:()=>w});var u=r(6895),h=r(4006),l=r(4881),p=r(7885),m=r(5861),g=r(739),e=r(6353),b=r(1900),f=r(8561);function v(n,i){if(1&n){const c=e.EpF();e.TgZ(0,"ion-button",5),e.NdJ("click",function(){e.CHM(c);const s=e.oxw();return e.KtG(s.addGuest())}),e.TgZ(1,"span"),e._uU(2,"Add Guest"),e.qZA()()}}const S=function(n){return["/booked-customers",n]},y=function(n){return["/shop-keeper",n]};function Z(n,i){if(1&n){const c=e.EpF();e.TgZ(0,"ion-item",6)(1,"ion-grid")(2,"ion-row")(3,"ion-col",7)(4,"ion-label",8),e._uU(5),e.qZA()(),e.TgZ(6,"ion-col",7)(7,"ion-label",8),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col",7)(10,"ion-label",8),e._uU(11),e.ALo(12,"parseNumber"),e.qZA()(),e.TgZ(13,"ion-col")(14,"ion-button",9)(15,"span"),e._uU(16,"View Request"),e.qZA()(),e.TgZ(17,"ion-button",9)(18,"span"),e._uU(19,"Edit"),e.qZA()(),e.TgZ(20,"ion-button",10),e.NdJ("click",function(){const o=e.CHM(c).$implicit,a=e.oxw();return e.KtG(a.deleteShop(o))}),e.TgZ(21,"span"),e._uU(22,"Delete"),e.qZA()()()()()()}if(2&n){const c=i.$implicit,t=e.oxw();e.xp6(5),e.Oqu(c.name),e.xp6(3),e.Oqu(c.description),e.xp6(3),e.Oqu(t.vendorDeatil.conceirge?"":e.lcZ(12,5,c.phonenumber)),e.xp6(3),e.Q6J("routerLink",e.VKq(7,S,c.phonenumber)),e.xp6(3),e.Q6J("routerLink",e.VKq(9,y,c.phonenumber))}}const x=[{path:"",component:(()=>{const i=class{constructor(t,s,o,a){this.appService=t,this.router=s,this.loadingController=o,this.utilAlertService=a,this.userShops=[],this.getUserDetail(),this.getVendorDetail()}ngOnInit(){}ionViewWillEnter(){}getUserDetail(){this.appService.userDetail.subscribe(t=>{this.user=t,t&&(this.userShops=this.user.shops)})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}addShop(){var t=this;return(0,m.Z)(function*(){if(t.user){const s=yield t.loadingController.create({message:"Loading..."});yield s.present(),t.appService.signup({name:"",description:"",phonenumber:t.user.phonenumber+"_new",idCategory:t.vendorDeatil.idCategory,password:"",type:"S"}).subscribe(a=>{a&&a.body&&(s.dismiss(),t.user.shops.push(a.body),localStorage.setItem("user",JSON.stringify(t.user)),t.appService.setUserDetail(t.user),t.router.navigate(["/shop-keeper",a.body.phonenumber]))})}else t.utilAlertService.showAlert("Internel server error! Please try after some time")})()}addGuest(){this.router.navigate(["/guest"])}viewGuests(){this.router.navigate(["/guests-list"])}deleteShop(t){this.appService.deleteShop({query:t.userId}).subscribe(o=>{this.getUserDetail();const a=this.userShops.findIndex(D=>D.userId===o);-1!==a&&(this.userShops.splice(a,1),this.user.shops=this.userShops,this.appService.setUserDetail(this.user))})}};let n=i;return i.\u0275fac=function(s){return new(s||i)(e.Y36(g.z),e.Y36(p.F0),e.Y36(l.HT),e.Y36(b.F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-shops"]],decls:9,vars:3,consts:[[1,"container"],[1,"pay-now-btn-fill",3,"click"],["tappable","","class","pay-now-btn ml-2","fill","outline",3,"click",4,"ngIf"],[1,"booked-customer-list",2,"display","block"],["class","booked-customer-item",4,"ngFor","ngForOf"],["tappable","","fill","outline",1,"pay-now-btn","ml-2",3,"click"],[1,"booked-customer-item"],["size-xs","12","size-sm","12","size-md","6","size-lg","3"],[1,"ion-text-wrap"],["tappable","","fill","outline",1,"pay-now-btn",3,"routerLink"],["tappable","","fill","outline",1,"pay-now-btn",3,"click"]],template:function(s,o){1&s&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"ion-item")(3,"ion-button",1),e.NdJ("click",function(){return o.addShop()}),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.YNc(6,v,3,0,"ion-button",2),e.qZA(),e.TgZ(7,"ion-list",3),e.YNc(8,Z,23,11,"ion-item",4),e.qZA()()()),2&s&&(e.xp6(5),e.hij("Add New ",o.vendorDeatil?o.vendorDeatil.serviceLabel:"Service",""),e.xp6(1),e.Q6J("ngIf","Front Desk"===(null==o.user?null:o.user.name)),e.xp6(2),e.Q6J("ngForOf",o.userShops))},dependencies:[u.sg,u.O5,l.YG,l.wI,l.W2,l.jY,l.Ie,l.Q$,l.q_,l.Nd,l.YI,p.rH,f.i],styles:[".v-divider[_ngcontent-%COMP%]{width:1px!important;padding:0;font-size:1px;flex:none;max-width:1px!important;border-right:1px solid #dcdcdc}.pay-now-btn-fill[_ngcontent-%COMP%]{--background: #1a8cd2;--color: white}"]}),n})()}];let T=(()=>{const i=class{};let n=i;return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.Bz.forChild(x),p.Bz]}),n})();var A=r(5642);let w=(()=>{const i=class{};let n=i;return i.\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,h.u5,l.Pc,A.K,T]}),n})()}}]);