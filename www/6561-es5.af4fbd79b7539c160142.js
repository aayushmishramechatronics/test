!function(){"use strict";function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function n(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(self.webpackChunkschedulingApp=self.webpackChunkschedulingApp||[]).push([[6561],{56561:function(e,n,o){o.r(n),o.d(n,{GuestPageModule:function(){return y}});var r=o(12057),a=o(24751),u=o(46982),s=o(13644),l=o(85386),c=o(16738),g=o(292),d=o(51900);function m(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"form",3,4),g.NdJ("ngSubmit",function(){return g.CHM(n),g.oxw().addGuest()}),g.TgZ(3,"ion-item"),g.TgZ(4,"ion-input",5),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guest.name=e}),g.qZA(),g.qZA(),g.TgZ(5,"ion-item"),g.TgZ(6,"ion-input",6),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guest.phonenumber=e}),g.qZA(),g.qZA(),g.TgZ(7,"ion-button",7),g._uU(8,"Add Guest"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=g.MAs(2),o=g.oxw();g.xp6(4),g.Q6J("ngModel",o.guest.name),g.xp6(2),g.Q6J("ngModel",o.guest.phonenumber),g.xp6(1),g.Q6J("disabled",i.invalid)}}function h(e,t){if(1&e&&(g.TgZ(0,"ion-select-option",16),g._uU(1),g.qZA()),2&e){var n=t.$implicit;g.Q6J("value",n.roomNumber),g.xp6(1),g.Oqu(n.roomNumber)}}function p(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"form",3,8),g.NdJ("ngSubmit",function(){return g.CHM(n),g.oxw().updateGuestDetail()}),g.TgZ(3,"ion-item"),g.TgZ(4,"ion-label"),g._uU(5,"Check In"),g.qZA(),g.TgZ(6,"ion-datetime",9),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guestDetail.checkIn=e}),g.qZA(),g.qZA(),g.TgZ(7,"ion-item"),g.TgZ(8,"ion-label"),g._uU(9,"Check Out"),g.qZA(),g.TgZ(10,"ion-datetime",10),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guestDetail.checkOut=e}),g.qZA(),g.qZA(),g.TgZ(11,"ion-item",11),g.TgZ(12,"ion-label"),g._uU(13,"Select Room Number"),g.qZA(),g.TgZ(14,"ion-select",12),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guestDetail.roomId=e}),g.YNc(15,h,2,2,"ion-select-option",13),g.qZA(),g.qZA(),g.TgZ(16,"ion-item",11),g.TgZ(17,"ion-input",14),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guestDetail.voucherNo=e}),g.qZA(),g.qZA(),g.TgZ(18,"ion-item",11),g.TgZ(19,"ion-textarea",15),g.NdJ("ngModelChange",function(e){return g.CHM(n),g.oxw().guestDetail.additionalGuest=e}),g.qZA(),g.qZA(),g.TgZ(20,"ion-button",7),g._uU(21,"Update Guest Detail"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=g.MAs(2),o=g.oxw();g.xp6(6),g.Q6J("ngModel",o.guestDetail.checkIn),g.xp6(4),g.Q6J("ngModel",o.guestDetail.checkOut),g.xp6(4),g.Q6J("ngModel",o.guestDetail.roomId),g.xp6(1),g.Q6J("ngForOf",o.rooms),g.xp6(2),g.Q6J("ngModel",o.guestDetail.voucherNo),g.xp6(2),g.Q6J("ngModel",o.guestDetail.additionalGuest),g.xp6(1),g.Q6J("disabled",i.invalid)}}var f,v=t(function e(t,n,o,r,a,u){i(this,e),this.adminCreated=t,this.name=n,this.description=o,this.phonenumber=r,this.type=a,this.idCategory=u,this.type="c",this.adminCreated=!0}),b=t(function e(t,n,o,r,a,u,s){i(this,e),this.checkIn=t,this.checkOut=n,this.roomId=o,this.customerId=r,this.bookTime=a,this.voucherNo=u,this.additionalGuest=s,this.checkIn=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}),D=[{path:"",component:(f=function(){return t(function e(t,n,o){i(this,e),this.appService=t,this.utilAlertService=n,this.router=o,this.guest=new v,this.guestDetail=new b,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]},[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.getRoomNumbers()}},{key:"addGuest",value:function(){var e=this;this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(function(t){t&&t.body&&(e.guestDetail.customerId=t.body.userId,e.enableGuestDetail=!0,e.guest=new v)})}},{key:"getRoomNumbers",value:function(){var e=this;this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(function(t){t&&(e.rooms=t.body)})}},{key:"updateGuestDetail",value:function(){var e=this;this.guestDetail.roomId?(this.guestDetail.checkIn=c(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=c(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=c(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(function(t){t&&e.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}},{key:"getUserDetail",value:function(){this.appService.userDetail.subscribe(function(e){})}},{key:"getVendorDetail",value:function(){var e=this;this.appService.vendorDeatil.subscribe(function(t){e.vendorDeatil=t})}}])}(),f.\u0275fac=function(e){return new(e||f)(g.Y36(l.z),g.Y36(d.F),g.Y36(s.F0))},f.\u0275cmp=g.Xpm({type:f,selectors:[["app-guest"]],decls:4,vars:2,consts:[[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["guestForm","ngForm"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModel","ngModelChange"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModel","ngModelChange"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["guestDetailForm","ngForm"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModel","ngModelChange"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(g.TgZ(0,"ion-content"),g.TgZ(1,"div",0),g.YNc(2,m,9,3,"div",1),g.YNc(3,p,22,7,"div",1),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",!t.enableGuestDetail),g.xp6(1),g.Q6J("ngIf",t.enableGuestDetail))},directives:[u.W2,r.O5,a._Y,a.JL,a.F,u.Ie,u.pK,u.j9,a.Q7,a.JJ,a.On,a.c5,u.YG,u.Q$,u.x4,u.QI,u.t9,r.sg,u.g2,u.n0],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]}),f)}],M=function(){var e=t(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[s.Bz.forChild(D)],s.Bz]}),e}(),Z=o(45642),y=function(){var e=t(function e(){i(this,e)});return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[r.ez,a.u5,u.Pc,Z.K,M]]}),e}()}}])}();