import{a as me}from"./chunk-J6SZS6L3.js";import{a as ie}from"./chunk-GQMNTOSR.js";import{e as oe}from"./chunk-RXYPHCWN.js";import{b as te}from"./chunk-DZKO2NLF.js";import{Aa as P,Ab as F,Bb as H,Cb as O,D,Da as d,Ea as c,Fa as g,G as Y,H as M,Hb as A,Kb as R,Kc as ee,Lb as B,M as m,N as u,Pb as L,Qb as j,Tb as U,Za as V,Zb as q,_a as N,_b as z,ca as s,da as y,eb as T,ec as J,fc as K,gc as Q,ia as v,ka as h,la as r,ma as a,oc as X,pc as Z,ra as C,sa as b,ta as l,tb as k,tc as $,wb as I,ya as S,yb as W,za as _,zb as E}from"./chunk-W2VBRA3B.js";import"./chunk-LWCOZOPT.js";import"./chunk-AZEL22PK.js";import"./chunk-B2H4I2WB.js";import"./chunk-HKZ2SCPE.js";import"./chunk-S4NCJKJW.js";import"./chunk-XOCRRRHP.js";import"./chunk-7UHV3KU6.js";import"./chunk-3ZBATJJW.js";import"./chunk-XE6OGKVL.js";import"./chunk-5AT3KRLK.js";import"./chunk-B2IEJXTH.js";import"./chunk-UBSOUGXN.js";import"./chunk-NVMJVCSP.js";import"./chunk-3H4RQUCR.js";import"./chunk-B5PDLB3A.js";import{g as le}from"./chunk-B7O3QC5Z.js";var f=le(me());function ue(o,p){if(o&1){let t=C();r(0,"div",4)(1,"form",5,0),b("ngSubmit",function(){m(t);let e=l();return u(e.addGuest())}),r(3,"ion-item")(4,"ion-input",6),g("ngModelChange",function(e){m(t);let n=l();return c(n.guest.name,e)||(n.guest.name=e),u(e)}),a()(),r(5,"ion-item")(6,"ion-input",7),g("ngModelChange",function(e){m(t);let n=l();return c(n.guest.phonenumber,e)||(n.guest.phonenumber=e),u(e)}),a()(),r(7,"ion-button",8),_(8,"Add Guest"),a()()()}if(o&2){let t=S(2),i=l();s(4),d("ngModel",i.guest.name),s(2),d("ngModel",i.guest.phonenumber),s(),h("disabled",t.invalid)}}function de(o,p){if(o&1&&(r(0,"ion-select-option",16),_(1),a()),o&2){let t=p.$implicit;h("value",t.roomNumber),s(),P(t.roomNumber)}}function ce(o,p){if(o&1){let t=C();r(0,"div",4)(1,"form",5,1),b("ngSubmit",function(){m(t);let e=l();return u(e.updateGuestDetail())}),r(3,"ion-item")(4,"ion-label"),_(5,"Check In"),a(),r(6,"ion-datetime",9),g("ngModelChange",function(e){m(t);let n=l();return c(n.guestDetail.checkIn,e)||(n.guestDetail.checkIn=e),u(e)}),a()(),r(7,"ion-item")(8,"ion-label"),_(9,"Check Out"),a(),r(10,"ion-datetime",10),g("ngModelChange",function(e){m(t);let n=l();return c(n.guestDetail.checkOut,e)||(n.guestDetail.checkOut=e),u(e)}),a()(),r(11,"ion-item",11)(12,"ion-label"),_(13,"Select Room Number"),a(),r(14,"ion-select",12),g("ngModelChange",function(e){m(t);let n=l();return c(n.guestDetail.roomId,e)||(n.guestDetail.roomId=e),u(e)}),v(15,de,2,2,"ion-select-option",13),a()(),r(16,"ion-item",11)(17,"ion-input",14),g("ngModelChange",function(e){m(t);let n=l();return c(n.guestDetail.voucherNo,e)||(n.guestDetail.voucherNo=e),u(e)}),a()(),r(18,"ion-item",11)(19,"ion-textarea",15),g("ngModelChange",function(e){m(t);let n=l();return c(n.guestDetail.additionalGuest,e)||(n.guestDetail.additionalGuest=e),u(e)}),a()(),r(20,"ion-button",8),_(21,"Update Guest Detail"),a()()()}if(o&2){let t=S(2),i=l();s(6),d("ngModel",i.guestDetail.checkIn),s(4),d("ngModel",i.guestDetail.checkOut),s(4),d("ngModel",i.guestDetail.roomId),s(),h("ngForOf",i.rooms),s(2),d("ngModel",i.guestDetail.voucherNo),s(2),d("ngModel",i.guestDetail.additionalGuest),s(),h("disabled",t.invalid)}}var w=class{constructor(p,t,i,e,n,x){this.adminCreated=p,this.name=t,this.description=i,this.phonenumber=e,this.type=n,this.idCategory=x,this.type="c",this.adminCreated=!0}},G=class{constructor(p,t,i,e,n,x,se){this.checkIn=p,this.checkOut=t,this.roomId=i,this.customerId=e,this.bookTime=n,this.voucherNo=x,this.additionalGuest=se,this.checkIn=(0,f.default)(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=(0,f.default)(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=(0,f.default)(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}},re=(()=>{class o{constructor(t,i,e){this.appService=t,this.utilAlertService=i,this.router=e,this.guest=new w,this.guestDetail=new G,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(t=>{t&&t.body&&(this.guestDetail.customerId=t.body.userId,this.enableGuestDetail=!0,this.guest=new w)})}getRoomNumbers(){let t={categoryId:this.vendorDeatil.idCategory};this.appService.getRooms(t).subscribe(i=>{i&&(this.rooms=i.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=(0,f.default)(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=(0,f.default)(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=(0,f.default)(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(t=>{t&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(t=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}static{this.\u0275fac=function(i){return new(i||o)(y(te),y(ie),y(k))}}static{this.\u0275cmp=Y({type:o,selectors:[["app-guest"]],decls:4,vars:2,consts:[["guestForm","ngForm"],["guestDetailForm","ngForm"],[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModelChange","ngModel"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModelChange","ngModel"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModelChange","ngModel"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModelChange","ngModel"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModelChange","ngModel"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModelChange","ngModel"],[3,"value"]],template:function(i,e){i&1&&(r(0,"ion-content")(1,"div",2),v(2,ue,9,3,"div",3)(3,ce,22,7,"div",3),a()()),i&2&&(s(2),h("ngIf",!e.enableGuestDetail),s(),h("ngIf",e.enableGuestDetail))},dependencies:[V,N,O,W,E,A,R,H,F,U,q,z,J,K,Q,X,Z,$,L,j],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]})}}return o})();var ge=[{path:"",component:re}],ae=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=M({type:o})}static{this.\u0275inj=D({imports:[I.forChild(ge),I]})}}return o})();var We=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=M({type:o})}static{this.\u0275inj=D({imports:[T,B,ee,oe,ae]})}}return o})();export{We as GuestPageModule};
