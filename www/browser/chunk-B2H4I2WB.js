import{a as u}from"./chunk-7UHV3KU6.js";import{d as g}from"./chunk-5AT3KRLK.js";import{d as M}from"./chunk-NVMJVCSP.js";import{b as h}from"./chunk-B5PDLB3A.js";import{h as i}from"./chunk-B7O3QC5Z.js";var b=o=>u().duration(o?400:300),$=o=>{let s,r,d=o.width+8,a=u(),f=u();o.isEndSide?(s=d+"px",r="0px"):(s=-d+"px",r="0px"),a.addElement(o.menuInnerEl).fromTo("transform",`translateX(${s})`,`translateX(${r})`);let m=g(o)==="ios",x=m?.2:.25;return f.addElement(o.backdropEl).fromTo("opacity",.01,x),b(m).addAnimation([a,f])},C=o=>{let s,r,d=g(o),a=o.width;o.isEndSide?(s=-a+"px",r=a+"px"):(s=a+"px",r=-a+"px");let f=u().addElement(o.menuInnerEl).fromTo("transform",`translateX(${r})`,"translateX(0px)"),E=u().addElement(o.contentEl).fromTo("transform","translateX(0px)",`translateX(${s})`),m=u().addElement(o.backdropEl).fromTo("opacity",.01,.32);return b(d==="ios").addAnimation([f,E,m])},P=o=>{let s=g(o),r=o.width*(o.isEndSide?-1:1)+"px",d=u().addElement(o.contentEl).fromTo("transform","translateX(0px)",`translateX(${r})`);return b(s==="ios").addAnimation(d)},U=()=>{let o=new Map,s=[],r=n=>i(void 0,null,function*(){let t=yield l(n);return t?t.open():!1}),d=n=>i(void 0,null,function*(){let t=yield n!==void 0?l(n):w();return t!==void 0?t.close():!1}),a=n=>i(void 0,null,function*(){let t=yield l(n);return t?t.toggle():!1}),f=(n,t)=>i(void 0,null,function*(){let e=yield l(t);return e&&(e.disabled=!n),e}),E=(n,t)=>i(void 0,null,function*(){let e=yield l(t);return e&&(e.swipeGesture=n),e}),m=n=>i(void 0,null,function*(){if(n!=null){let t=yield l(n);return t!==void 0&&t.isOpen()}else return(yield w())!==void 0}),x=n=>i(void 0,null,function*(){let t=yield l(n);return t?!t.disabled:!1}),l=n=>i(void 0,null,function*(){if(yield A(),n==="start"||n==="end"){let e=p(c=>c.side===n&&!c.disabled);return e||p(c=>c.side===n)}else if(n!=null)return p(e=>e.menuId===n);let t=p(e=>!e.disabled);return t||(s.length>0?s[0].el:void 0)}),w=()=>i(void 0,null,function*(){return yield A(),O()}),T=()=>i(void 0,null,function*(){return yield A(),B()}),I=()=>i(void 0,null,function*(){return yield A(),_()}),y=(n,t)=>{o.set(n,t)},S=n=>{s.indexOf(n)<0&&(n.disabled||X(n),s.push(n))},v=n=>{let t=s.indexOf(n);t>-1&&s.splice(t,1)},X=n=>{let t=n.side;s.filter(e=>e.side===t&&e!==n).forEach(e=>e.disabled=!0)},R=(n,t,e)=>i(void 0,null,function*(){if(_())return!1;if(t){let c=yield w();c&&n.el!==c&&(yield c.setOpen(!1,!1))}return n._setOpen(t,e)}),k=(n,t)=>{let e=o.get(n);if(!e)throw new Error("animation not registered");return e(t)},O=()=>p(n=>n._isOpen),B=()=>s.map(n=>n.el),_=()=>s.some(n=>n.isAnimating),p=n=>{let t=s.find(n);if(t!==void 0)return t.el},A=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(n=>new Promise(t=>h(n,t))));return y("reveal",P),y("push",C),y("overlay",$),typeof document<"u"&&document.addEventListener("ionBackButton",n=>{let t=O();t&&n.detail.register(99,()=>t.close())}),{registerAnimation:y,get:l,getMenus:T,getOpen:w,isEnabled:x,swipeGesture:E,isAnimating:I,isOpen:m,enable:f,toggle:a,close:d,open:r,_getOpenSync:O,_createAnimation:k,_register:S,_unregister:v,_setOpen:R,_setActiveMenu:X}},L=U();export{L as a};
