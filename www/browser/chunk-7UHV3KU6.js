import{a as rn}from"./chunk-XE6OGKVL.js";import{h as $}from"./chunk-B5PDLB3A.js";var sn,ht=i=>(i.forEach(o=>{for(let s in o)if(o.hasOwnProperty(s)){let c=o[s];if(s==="easing"){let u="animation-timing-function";o[u]=c,delete o[s]}else{let u=pt(s);u!==s&&(o[u]=c,delete o[s])}}}),i),pt=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),an=i=>{if(sn===void 0){let o=i.style.animationName!==void 0,s=i.style.webkitAnimationName!==void 0;sn=!o&&s?"-webkit-":""}return sn},f=(i,o,s)=>{let c=o.startsWith("animation")?an(i):"";i.style.setProperty(c+o,s)},b=(i,o)=>{let s=o.startsWith("animation")?an(i):"";i.style.removeProperty(s+o)},gt=(i,o)=>{let s,c={passive:!0},u=()=>{s&&s()},E=v=>{i===v.target&&(u(),o(v))};return i&&(i.addEventListener("webkitAnimationEnd",E,c),i.addEventListener("animationend",E,c),s=()=>{i.removeEventListener("webkitAnimationEnd",E,c),i.removeEventListener("animationend",E,c)}),u},yt=(i=[])=>i.map(o=>{let s=o.offset,c=[];for(let u in o)o.hasOwnProperty(u)&&u!=="offset"&&c.push(`${u}: ${o[u]};`);return`${s*100}% { ${c.join(" ")} }`}).join(" "),vn=[],Et=i=>{let o=vn.indexOf(i);return o<0&&(o=vn.push(i)-1),`ion-animation-${o}`},At=i=>{let o=i.getRootNode!==void 0?i.getRootNode():i;return o.head||o},Ct=(i,o,s)=>{var c;let u=At(s),E=an(s),v=u.querySelector("#"+i);if(v)return v;let a=((c=s.ownerDocument)!==null&&c!==void 0?c:document).createElement("style");return a.id=i,a.textContent=`@${E}keyframes ${i} { ${o} } @${E}keyframes ${i}-alt { ${o} }`,u.appendChild(a),a},H=(i=[],o)=>{if(o!==void 0){let s=Array.isArray(o)?o:[o];return[...i,...s]}return i},$t=i=>{let o,s,c,u,E,v,a=[],Z=[],J=[],w=!1,d,Q={},X=[],Y=[],nn={},_=0,U=!1,V=!1,j,T,L,D,x=!0,k=!1,I=!0,O,r,q=!1,fn=i,tn=[],B=[],m=[],p=[],en=[],cn=[],un=[],ln=[],dn=[],S=[],Fn=typeof AnimationEffect=="function"||rn!==void 0&&typeof rn.AnimationEffect=="function",A=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Fn,$n=100,mn=()=>S,wn=n=>(p.forEach(t=>{t.destroy(n)}),Pn(n),m.length=0,p.length=0,a.length=0,Dn(),w=!1,I=!0,r),Pn=n=>{hn(),n&&pn()},_n=()=>{U=!1,V=!1,I=!0,T=void 0,L=void 0,D=void 0,_=0,k=!1,x=!0,q=!1},Tn=()=>_!==0&&!q,G=(n,t)=>((t?.oneTimeCallback?B:tn).push({c:n,o:t}),r),Dn=()=>(tn.length=0,B.length=0,r),hn=()=>{if(A)S.forEach(n=>{n.cancel()}),S.length=0;else{let n=m.slice();$(()=>{n.forEach(t=>{b(t,"animation-name"),b(t,"animation-duration"),b(t,"animation-timing-function"),b(t,"animation-iteration-count"),b(t,"animation-delay"),b(t,"animation-play-state"),b(t,"animation-fill-mode"),b(t,"animation-direction")})})}},pn=()=>{en.forEach(n=>{n?.parentNode&&n.parentNode.removeChild(n)}),en.length=0},xn=n=>(cn.push(n),r),Kn=n=>(un.push(n),r),Rn=n=>(ln.push(n),r),Wn=n=>(dn.push(n),r),Ln=n=>(Z=H(Z,n),r),kn=n=>(J=H(J,n),r),In=(n={})=>(Q=n,r),On=(n=[])=>{for(let t of n)Q[t]="";return r},Nn=n=>(X=H(X,n),r),zn=n=>(Y=H(Y,n),r),Mn=(n={})=>(nn=n,r),Un=(n=[])=>{for(let t of n)nn[t]="";return r},N=()=>E!==void 0?E:d?d.getFill():"both",K=()=>T!==void 0?T:v!==void 0?v:d?d.getDirection():"normal",z=()=>U?"linear":c!==void 0?c:d?d.getEasing():"linear",C=()=>V?0:L!==void 0?L:s!==void 0?s:d?d.getDuration():0,F=()=>u!==void 0?u:d?d.getIterations():1,R=()=>D!==void 0?D:o!==void 0?o:d?d.getDelay():0,Vn=()=>a,jn=n=>(v=n,g(!0),r),qn=n=>(E=n,g(!0),r),Bn=n=>(o=n,g(!0),r),Gn=n=>(c=n,g(!0),r),Hn=n=>(!A&&n===0&&(n=1),s=n,g(!0),r),Zn=n=>(u=n,g(!0),r),Jn=n=>(d=n,r),Qn=n=>{if(n!=null)if(n.nodeType===1)m.push(n);else if(n.length>=0)for(let t=0;t<n.length;t++)m.push(n[t]);else console.error("Invalid addElement value");return r},Xn=n=>{if(n!=null)if(Array.isArray(n))for(let t of n)t.parent(r),p.push(t);else n.parent(r),p.push(n);return r},Yn=n=>{let t=a!==n;return a=n,t&&nt(a),r},nt=n=>{A?mn().forEach(t=>{if(t.effect.setKeyframes)t.effect.setKeyframes(n);else{let e=new KeyframeEffect(t.effect.target,n,t.effect.getTiming());t.effect=e}}):gn()},tt=()=>{cn.forEach(l=>l()),un.forEach(l=>l());let n=Z,t=J,e=Q;m.forEach(l=>{let h=l.classList;n.forEach(y=>h.add(y)),t.forEach(y=>h.remove(y));for(let y in e)e.hasOwnProperty(y)&&f(l,y,e[y])})},et=()=>{on(),ln.forEach(h=>h()),dn.forEach(h=>h());let n=x?1:0,t=X,e=Y,l=nn;m.forEach(h=>{let y=h.classList;t.forEach(P=>y.add(P)),e.forEach(P=>y.remove(P));for(let P in l)l.hasOwnProperty(P)&&f(h,P,l[P])}),tn.forEach(h=>h.c(n,r)),B.forEach(h=>h.c(n,r)),B.length=0,I=!0,x&&(k=!0),x=!0},W=()=>{_!==0&&(_--,_===0&&(et(),d&&d.animationFinish()))},gn=(n=!0)=>{pn();let t=ht(a);m.forEach(e=>{if(t.length>0){let l=yt(t);O=i!==void 0?i:Et(l);let h=Ct(O,l,e);en.push(h),f(e,"animation-duration",`${C()}ms`),f(e,"animation-timing-function",z()),f(e,"animation-delay",`${R()}ms`),f(e,"animation-fill-mode",N()),f(e,"animation-direction",K());let y=F()===1/0?"infinite":F().toString();f(e,"animation-iteration-count",y),f(e,"animation-play-state","paused"),n&&f(e,"animation-name",`${h.id}-alt`),$(()=>{f(e,"animation-name",h.id||null)})}})},it=()=>{m.forEach(n=>{let t=n.animate(a,{id:fn,delay:R(),duration:C(),easing:z(),iterations:F(),fill:N(),direction:K()});t.pause(),S.push(t)}),S.length>0&&(S[0].onfinish=()=>{W()})},yn=(n=!0)=>{tt(),a.length>0&&(A?it():gn(n)),w=!0},M=n=>{if(n=Math.min(Math.max(n,0),.9999),A)S.forEach(t=>{t.currentTime=t.effect.getComputedTiming().delay+C()*n,t.pause()});else{let t=`-${C()*n}ms`;m.forEach(e=>{a.length>0&&(f(e,"animation-delay",t),f(e,"animation-play-state","paused"))})}},En=n=>{S.forEach(t=>{t.effect.updateTiming({delay:R(),duration:C(),easing:z(),iterations:F(),fill:N(),direction:K()})}),n!==void 0&&M(n)},An=(n=!0,t)=>{$(()=>{m.forEach(e=>{f(e,"animation-name",O||null),f(e,"animation-duration",`${C()}ms`),f(e,"animation-timing-function",z()),f(e,"animation-delay",t!==void 0?`-${t*C()}ms`:`${R()}ms`),f(e,"animation-fill-mode",N()||null),f(e,"animation-direction",K()||null);let l=F()===1/0?"infinite":F().toString();f(e,"animation-iteration-count",l),n&&f(e,"animation-name",`${O}-alt`),$(()=>{f(e,"animation-name",O||null)})})})},g=(n=!1,t=!0,e)=>(n&&p.forEach(l=>{l.update(n,t,e)}),A?En(e):An(t,e),r),ot=(n=!1,t)=>(p.forEach(e=>{e.progressStart(n,t)}),Cn(),U=n,w||yn(),g(!1,!0,t),r),rt=n=>(p.forEach(t=>{t.progressStep(n)}),M(n),r),st=(n,t,e)=>(U=!1,p.forEach(l=>{l.progressEnd(n,t,e)}),e!==void 0&&(L=e),k=!1,x=!0,n===0?(T=K()==="reverse"?"normal":"reverse",T==="reverse"&&(x=!1),A?(g(),M(1-t)):(D=(1-t)*C()*-1,g(!1,!1))):n===1&&(A?(g(),M(t)):(D=t*C()*-1,g(!1,!1))),n!==void 0&&(G(()=>{L=void 0,T=void 0,D=void 0},{oneTimeCallback:!0}),d||bn()),r),Cn=()=>{w&&(A?S.forEach(n=>{n.pause()}):m.forEach(n=>{f(n,"animation-play-state","paused")}),q=!0)},at=()=>(p.forEach(n=>{n.pause()}),Cn(),r),ft=()=>{j=void 0,W()},on=()=>{j&&clearTimeout(j)},ct=()=>{if(on(),$(()=>{m.forEach(n=>{a.length>0&&f(n,"animation-play-state","running")})}),a.length===0||m.length===0)W();else{let n=R()||0,t=C()||0,e=F()||1;isFinite(e)&&(j=setTimeout(ft,n+t*e+$n)),gt(m[0],()=>{on(),$(()=>{ut(),$(W)})})}},ut=()=>{m.forEach(n=>{b(n,"animation-duration"),b(n,"animation-delay"),b(n,"animation-play-state")})},lt=()=>{S.forEach(n=>{n.play()}),(a.length===0||m.length===0)&&W()},dt=()=>{A?(M(0),En()):An()},bn=n=>new Promise(t=>{n?.sync&&(V=!0,G(()=>V=!1,{oneTimeCallback:!0})),w||yn(),k&&(dt(),k=!1),I&&(_=p.length+1,I=!1),G(()=>t(),{oneTimeCallback:!0}),p.forEach(e=>{e.play()}),A?lt():ct(),q=!1}),mt=()=>{p.forEach(n=>{n.stop()}),w&&(hn(),w=!1),_n()},Sn=(n,t)=>{let e=a[0];return e!==void 0&&(e.offset===void 0||e.offset===0)?e[n]=t:a=[{offset:0,[n]:t},...a],r};return r={parentAnimation:d,elements:m,childAnimations:p,id:fn,animationFinish:W,from:Sn,to:(n,t)=>{let e=a[a.length-1];return e!==void 0&&(e.offset===void 0||e.offset===1)?e[n]=t:a=[...a,{offset:1,[n]:t}],r},fromTo:(n,t,e)=>Sn(n,t).to(n,e),parent:Jn,play:bn,pause:at,stop:mt,destroy:wn,keyframes:Yn,addAnimation:Xn,addElement:Qn,update:g,fill:qn,direction:jn,iterations:Zn,duration:Hn,easing:Gn,delay:Bn,getWebAnimations:mn,getKeyframes:Vn,getFill:N,getDirection:K,getDelay:R,getIterations:F,getEasing:z,getDuration:C,afterAddRead:Rn,afterAddWrite:Wn,afterClearStyles:Un,afterStyles:Mn,afterRemoveClass:zn,afterAddClass:Nn,beforeAddRead:xn,beforeAddWrite:Kn,beforeClearStyles:On,beforeStyles:In,beforeRemoveClass:kn,beforeAddClass:Ln,onFinish:G,isRunning:Tn,progressStart:ot,progressStep:rt,progressEnd:st}};export{$t as a};
