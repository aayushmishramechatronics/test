import{a as K}from"./chunk-KMCR35CP.js";import"./chunk-NF7MM3HA.js";import{a as nt}from"./chunk-J6SZS6L3.js";import{a as J}from"./chunk-GQMNTOSR.js";import{e as W}from"./chunk-RXYPHCWN.js";import{b as H}from"./chunk-DZKO2NLF.js";import{Aa as p,Ba as x,D as P,Dc as G,Ec as U,G as I,H as M,Ha as D,Kc as O,Lb as L,M as _,N as f,Oa as T,Qa as B,Ra as N,Tb as V,Yb as j,Zb as R,ac as Y,ca as c,cc as F,da as C,db as z,eb as A,gc as $,ia as m,ka as r,la as o,ma as e,mc as q,na as b,qa as S,ra as w,sa as u,ta as s,wb as E,ya as y,za as l}from"./chunk-W2VBRA3B.js";import"./chunk-LWCOZOPT.js";import"./chunk-AZEL22PK.js";import"./chunk-B2H4I2WB.js";import"./chunk-HKZ2SCPE.js";import"./chunk-S4NCJKJW.js";import"./chunk-XOCRRRHP.js";import"./chunk-7UHV3KU6.js";import"./chunk-3ZBATJJW.js";import"./chunk-XE6OGKVL.js";import"./chunk-5AT3KRLK.js";import"./chunk-B2IEJXTH.js";import"./chunk-UBSOUGXN.js";import"./chunk-NVMJVCSP.js";import"./chunk-3H4RQUCR.js";import"./chunk-B5PDLB3A.js";import{g as et,h as k}from"./chunk-B7O3QC5Z.js";var h=et(nt());function ot(n,g){n&1&&S(0)}function it(n,g){if(n&1&&(o(0,"div",30),m(1,ot,1,0,"ng-container",31),e()),n&2){s();let t=y(49);c(),r("ngTemplateOutlet",t)}}function at(n,g){if(n&1&&(o(0,"ion-label",25),l(1),e()),n&2){let t=s().$implicit,i=s();c(),p(i.vendorDeatil.conceirge?"":"Verification Code:"+t.verifyCode)}}function lt(n,g){n&1&&S(0)}function ct(n,g){if(n&1&&(o(0,"div",30),m(1,lt,1,0,"ng-container",31),e()),n&2){s();let t=y(49);c(),r("ngTemplateOutlet",t)}}function rt(n,g){if(n&1){let t=w();o(0,"ion-icon",32),u("click",function(){_(t);let a=s().$implicit;return f(a.options=!1)}),e(),o(1,"ul")(2,"li")(3,"button",33),u("click",function(){_(t);let a=s(),d=a.$implicit,Z=a.index,tt=s();return f(tt.confirmCancelAppointment(d,Z))}),l(4,"Cancel Request"),e()()()}if(n&2){let t=s().$implicit;c(3),r("disabled",t.bookingStatus==="COMPLETED")}}function st(n,g){if(n&1){let t=w();o(0,"tr")(1,"td",11)(2,"div",12),l(3),e()(),o(4,"td",13),l(5),e(),o(6,"td",13),l(7),e(),o(8,"td",13),l(9),e(),o(10,"td",13)(11,"div",16)(12,"ion-label",17)(13,"span",18),l(14),e()(),o(15,"div",19)(16,"ion-button",20),u("click",function(){let a=_(t).$implicit;return f(a.options=!a.options)}),b(17,"ion-icon",21),e()(),m(18,it,2,1,"div",22),e()(),o(19,"td",23)(20,"div",24)(21,"ion-label",25)(22,"b"),l(23,"Name:- "),e(),l(24),e(),o(25,"ion-label",25)(26,"b"),l(27,"Slot Time:- "),e(),l(28),e(),o(29,"ion-label",25)(30,"b"),l(31,"Room Number:- "),e(),l(32),e(),o(33,"ion-label",25)(34,"b"),l(35,"Comments:- "),e(),l(36),e(),m(37,at,2,1,"ion-label",26),o(38,"div",27)(39,"div",28)(40,"ion-label",29)(41,"span",18),l(42),e()()()(),o(43,"div",16)(44,"div",19)(45,"ion-button",20),u("click",function(){let a=_(t).$implicit;return f(a.options=!a.options)}),b(46,"ion-icon",21),e()(),m(47,ct,2,1,"div",22),e()()(),m(48,rt,5,1,"ng-template",null,0,N),e()}if(n&2){let t=g.$implicit,i=s();c(3),x(" ",t.storeName," "),c(2),x(" ",t.slotTime," "),c(2),x(" ",t.room_no?t.room_no:"-"," "),c(2),x(" ",t.comments," "),c(4),r("className","consultation-status-tag new"),c(),p(t.bookingStatus?t.bookingStatus:"New"),c(4),r("ngIf",t.options),c(6),p(t.storeName),c(4),p(t.slotTime),c(4),p(t.room_no),c(4),p(t.comments),c(),r("ngIf",!i.vendorDeatil.conceirge),c(4),r("className","consultation-status-tag new"),c(),p(t.bookingStatus?t.bookingStatus:"New"),c(5),r("ngIf",t.options)}}function dt(n,g){n&1&&(o(0,"div",34),l(1," There are no pending appointments "),e())}var v=(()=>{class n{constructor(t,i,a,d){this.appService=t,this.utilAlertService=i,this.loadingController=a,this.alertController=d,this.bookedCustomers=[],this.selectedDate=new Date}ngOnInit(){}ionViewWillEnter(){this.getVendorDeatil(),this.user=JSON.parse(localStorage.getItem("user")),this.user&&this.search()}selectPreviousDate(){this.selectedDate=(0,h.default)(this.selectedDate).subtract(1,"days"),this.bookedCustomers=[],this.search()}selectNextDate(){this.selectedDate=(0,h.default)(this.selectedDate).add(1,"days"),this.bookedCustomers=[],this.search()}search(){return k(this,null,function*(){let t={userType:this.user.type,userId:this.user.userId,date:(0,h.default)(this.selectedDate).format("DD-MM-YYYY")},i=yield this.loadingController.create({message:"Loading..."});yield i.present(),this.appService.getBookedCustomerList(t).subscribe(a=>{a&&a.body&&(this.bookedCustomers=a.body),i.dismiss()},()=>{i.dismiss()})})}confirmCancelAppointment(t,i){return k(this,null,function*(){t.options=!1,yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Confirm!",message:"Are you sure you want to cancel this request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:d=>{}},{text:"Confirm",handler:()=>{this.cancelAppointment(t,i)}}]})).present()})}cancelAppointment(t,i){let a={bookingId:t.idBooking};this.appService.cancelSlot(a).subscribe(d=>{d&&d.body&&(this.bookedCustomers.splice(i,1),this.utilAlertService.showSuccess("Your slot is cancelled"))})}getVendorDeatil(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}static{this.\u0275fac=function(i){return new(i||n)(C(H),C(J),C(U),C(G))}}static{this.\u0275cmp=I({type:n,selectors:[["app-booked-slots"]],standalone:!0,features:[D],decls:29,vars:6,consts:[["statusList",""],[1,"container"],[1,"date-selection"],["fill","clear","size","small",3,"click"],["slot","icon-only","name","chevron-back-sharp"],[1,"slots-showing-day"],["slot","icon-only","name","chevron-forward-sharp"],[1,"consultation-list-container","p-0"],[1,"p-0",2,"width","100%"],["size","12",1,"p-0"],[1,"consultation-table"],[1,"availability-column","ion-hide-sm-down",2,"width","20%"],[1,"d-flex","align-items-center"],[1,"ion-hide-sm-down",2,"width","20%"],[4,"ngFor","ngForOf"],["class","no-result",4,"ngIf"],[1,"action-container"],[1,"ion-text-wrap","mr-1",2,"min-width","200px"],[3,"className"],[1,"options"],["slot","end","tappable","","strong","true","fill","block",1,"menu-btn",3,"click"],["name","ellipsis-vertical"],["class","status-popover",4,"ngIf"],[1,"ion-hide-sm-up",2,"width","97%","padding-top","0"],[1,"mobile-view-contaner"],[1,"name"],["class","name",4,"ngIf"],[1,"status"],[1,"d-flex"],[1,"ion-text-wrap","mr-1"],[1,"status-popover"],[4,"ngTemplateOutlet"],["name","close",3,"click"],[3,"click","disabled"],[1,"no-result"]],template:function(i,a){i&1&&(o(0,"ion-content")(1,"div",1)(2,"div",2)(3,"ion-button",3),u("click",function(){return a.selectPreviousDate()}),b(4,"ion-icon",4),e(),o(5,"ion-label",5),l(6),T(7,"date"),e(),o(8,"ion-button",3),u("click",function(){return a.selectNextDate()}),b(9,"ion-icon",6),e()(),o(10,"ion-grid",7)(11,"ion-row",8)(12,"ion-col",9)(13,"table",10)(14,"tbody")(15,"tr")(16,"td",11)(17,"div",12),l(18,"Name"),e()(),o(19,"td",13),l(20," Slot Time "),e(),o(21,"td",13),l(22," Room Number "),e(),o(23,"td",13),l(24," Comments "),e(),o(25,"td",13),l(26," Status "),e()(),m(27,st,50,15,"tr",14),e()(),m(28,dt,2,0,"div",15),e()()()()()),i&2&&(c(6),p(B(7,3,a.selectedDate,"EE, MMMM d, yyyy")),c(21),r("ngForOf",a.bookedCustomers),c(),r("ngIf",a.bookedCustomers&&a.bookedCustomers.length===0))},dependencies:[O,V,j,R,Y,F,$,q,z],styles:[".booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.date-selection[_ngcontent-%COMP%]{display:flex;margin:4pt 0;justify-content:space-between;align-items:center}.date-selection[_ngcontent-%COMP%]   .slots-showing-day[_ngcontent-%COMP%]{font-size:12pt;color:#414141}.today[_ngcontent-%COMP%]{background-color:#000}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#3cb371}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn.old[_ngcontent-%COMP%]{--background: lightgrey}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;--background: #747474;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item.today[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{--background: mediumseagreen}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .age[_ngcontent-%COMP%]{font-size:80%}.text-right[_ngcontent-%COMP%]{text-align:right}.options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.options[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{font-size:9pt;--background: transparent;color:#414141;--background-hover: transparent}.appt-default-button[_ngcontent-%COMP%]{font-size:14px;--background: #ffffff;--border-width: 1px;--border-radius: 14px !important;--padding-start: 14px;--padding-end: 14px;--padding-top: 0px;--padding-bottom: 0px;--background-hover: #2cd18a;--background-hover-opacity: 1;--background-activated: #2cd18a;--box-shadow: none;height:28px;min-width:112px;line-height:normal;margin-left:4pt;font-weight:600}.appt-default-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{text-transform:none}.appt-default-button.book-btn[_ngcontent-%COMP%]{--border-color: #2cd18a;color:#414141}.appt-default-button.other-btn[_ngcontent-%COMP%]{--border-color: #b1b1b1;color:#414141}.appt-default-button[_ngcontent-%COMP%]:hover{color:#fff}.consultation-list-container[_ngcontent-%COMP%]{padding:0 40px}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]{width:100%}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#fafafa}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-label[_ngcontent-%COMP%]{font-size:14px;color:#414141}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:13px;color:#717171}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eae8e8}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.consultation-list-container[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;color:#414141;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-size:14px;color:#717171;line-height:20px;word-break:break-word}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#717171;font-size:12px;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex}.consultation-list-container[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{color:#df5e57;padding:8px;display:flex;justify-content:center}.consultation-status-tag[_ngcontent-%COMP%]{padding:2px 8px;border-radius:2px;font-size:11px;font-weight:600;color:#fff;background:#3688cb}.consultation-status-tag.new[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.PENDING[_ngcontent-%COMP%]{color:#fff;background:#9a92c9}.consultation-status-tag.SCHEDULED[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.IN_PROGRESS[_ngcontent-%COMP%]{color:#fff;background:#e88231}.consultation-status-tag.CANCELLED_BY_PATIENT[_ngcontent-%COMP%], .consultation-status-tag.CANCELLED_BY_DOCTOR[_ngcontent-%COMP%], .consultation-status-tag.CANCELLED_BY_SYSTEM[_ngcontent-%COMP%]{color:#fff;background:#df5e57}.consultation-status-tag.COMPLETED[_ngcontent-%COMP%]{color:#fff;background:#4f8b46}"]})}}return n})();var mt=[{path:"",component:v}],X=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=M({type:n})}static{this.\u0275inj=P({imports:[E.forChild(mt),E]})}}return n})();var Bt=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=M({type:n})}static{this.\u0275inj=P({imports:[A,L,O,W,K.forRoot(),X,v]})}}return n})();export{Bt as BookedSlotsPageModule};
