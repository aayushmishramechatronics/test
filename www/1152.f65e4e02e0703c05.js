"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1152],{1152:(A,d,n)=>{n.r(d),n.d(d,{UserShopsPageModule:()=>T});var u=n(6895),h=n(4006),i=n(4881),p=n(7885),g=n(5861),m=n(739),e=n(6353),S=n(1900),b=n(8561);function f(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-button",5),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.addGuest())}),e.TgZ(1,"span"),e._uU(2,"Add Guest"),e.qZA()()}}const v=function(o){return["/booked-customers",o]},U=function(o){return["/shop-keeper",o]};function y(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"ion-item",6)(1,"ion-grid")(2,"ion-row")(3,"ion-col",7)(4,"ion-label",8),e._uU(5),e.qZA()(),e.TgZ(6,"ion-col",7)(7,"ion-label",8),e._uU(8),e.qZA()(),e.TgZ(9,"ion-col",7)(10,"ion-label",8),e._uU(11),e.ALo(12,"parseNumber"),e.qZA()(),e.TgZ(13,"ion-col")(14,"ion-button",9)(15,"span"),e._uU(16,"View Request"),e.qZA()(),e.TgZ(17,"ion-button",9)(18,"span"),e._uU(19,"Edit"),e.qZA()(),e.TgZ(20,"ion-button",10),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteShop(r))}),e.TgZ(21,"span"),e._uU(22,"Delete"),e.qZA()()()()()()}if(2&o){const t=l.$implicit,s=e.oxw();e.xp6(5),e.Oqu(t.name),e.xp6(3),e.Oqu(t.description),e.xp6(3),e.Oqu(s.vendorDeatil.conceirge?"":e.lcZ(12,5,t.phonenumber)),e.xp6(3),e.Q6J("routerLink",e.VKq(7,v,t.phonenumber)),e.xp6(3),e.Q6J("routerLink",e.VKq(9,U,t.phonenumber))}}const Z=[{path:"",component:(()=>{class o{constructor(t,s,a,r){this.appService=t,this.router=s,this.loadingController=a,this.utilAlertService=r,this.userShops=[],this.getUserDetail(),this.getVendorDetail()}ngOnInit(){}ionViewWillEnter(){}getUserDetail(){this.appService.userDetail.subscribe(t=>{this.user=t,t&&(this.userShops=this.user.shops)})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}addShop(){var t=this;return(0,g.Z)(function*(){if(t.user){const s=yield t.loadingController.create({message:"Loading..."});yield s.present(),t.appService.signup({name:"",description:"",phonenumber:t.user.phonenumber+"_new",idCategory:t.vendorDeatil.idCategory,password:"",type:"S"}).subscribe(r=>{r&&r.body&&(s.dismiss(),t.user.shops.push(r.body),localStorage.setItem("user",JSON.stringify(t.user)),t.appService.setUserDetail(t.user),t.router.navigate(["/shop-keeper",r.body.phonenumber]))})}else t.utilAlertService.showAlert("Internel server error! Please try after some time")})()}addGuest(){this.router.navigate(["/guest"])}viewGuests(){this.router.navigate(["/guests-list"])}deleteShop(t){this.appService.deleteShop({query:t.userId}).subscribe(a=>{this.getUserDetail();const r=this.userShops.findIndex(c=>c.userId===a);-1!==r&&(this.userShops.splice(r,1),this.user.shops=this.userShops,this.appService.setUserDetail(this.user))})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.z),e.Y36(p.F0),e.Y36(i.HT),e.Y36(S.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-user-shops"]],decls:9,vars:3,consts:[[1,"container"],[1,"pay-now-btn-fill",3,"click"],["tappable","","class","pay-now-btn ml-2","fill","outline",3,"click",4,"ngIf"],[1,"booked-customer-list",2,"display","block"],["class","booked-customer-item",4,"ngFor","ngForOf"],["tappable","","fill","outline",1,"pay-now-btn","ml-2",3,"click"],[1,"booked-customer-item"],["size-xs","12","size-sm","12","size-md","6","size-lg","3"],[1,"ion-text-wrap"],["tappable","","fill","outline",1,"pay-now-btn",3,"routerLink"],["tappable","","fill","outline",1,"pay-now-btn",3,"click"]],template:function(t,s){1&t&&(e.TgZ(0,"ion-content")(1,"div",0)(2,"ion-item")(3,"ion-button",1),e.NdJ("click",function(){return s.addShop()}),e.TgZ(4,"span"),e._uU(5),e.qZA()(),e.YNc(6,f,3,0,"ion-button",2),e.qZA(),e.TgZ(7,"ion-list",3),e.YNc(8,y,23,11,"ion-item",4),e.qZA()()()),2&t&&(e.xp6(5),e.hij("Add New ",s.vendorDeatil?s.vendorDeatil.serviceLabel:"Service",""),e.xp6(1),e.Q6J("ngIf","Front Desk"===(null==s.user?null:s.user.name)),e.xp6(2),e.Q6J("ngForOf",s.userShops))},dependencies:[u.sg,u.O5,i.YG,i.wI,i.W2,i.jY,i.Ie,i.Q$,i.q_,i.Nd,i.YI,p.rH,b.i],styles:[".v-divider[_ngcontent-%COMP%]{width:1px!important;padding:0;font-size:1px;flex:none;max-width:1px!important;border-right:1px solid #dcdcdc}.pay-now-btn-fill[_ngcontent-%COMP%]{--background: #1a8cd2;--color: white}"]}),o})()}];let x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.Bz.forChild(Z),p.Bz]}),o})();var P=n(5642);let T=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,h.u5,i.Pc,P.K,x]}),o})()}}]);