"use strict";(self.webpackChunkschedulingApp=self.webpackChunkschedulingApp||[]).push([[5081],{75081:function(t,n,o){o.r(n),o.d(n,{BookedSlotsPageModule:function(){return A}});var e=o(12057),i=o(24751),c=o(46982),s=o(13644),a=o(97582),l=o(85386),r=o(16738),g=o.n(r),u=o(292),d=o(51900);function p(t,n){1&t&&u.GkF(0)}function f(t,n){if(1&t&&(u.TgZ(0,"div",30),u.YNc(1,p,1,0,"ng-container",31),u.qZA()),2&t){u.oxw();const t=u.MAs(49);u.xp6(1),u.Q6J("ngTemplateOutlet",t)}}function m(t,n){if(1&t&&(u.TgZ(0,"ion-label",24),u._uU(1),u.qZA()),2&t){const t=u.oxw().$implicit,n=u.oxw();u.xp6(1),u.Oqu(n.vendorDeatil.conceirge?"":"Verification Code:"+t.verifyCode)}}function C(t,n){1&t&&u.GkF(0)}function b(t,n){if(1&t&&(u.TgZ(0,"div",30),u.YNc(1,C,1,0,"ng-container",31),u.qZA()),2&t){u.oxw();const t=u.MAs(49);u.xp6(1),u.Q6J("ngTemplateOutlet",t)}}function _(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"ion-icon",32),u.NdJ("click",function(){return u.CHM(t),u.oxw().$implicit.options=!1}),u.qZA(),u.TgZ(1,"ul"),u.TgZ(2,"li"),u.TgZ(3,"button",33),u.NdJ("click",function(){u.CHM(t);const n=u.oxw(),o=n.$implicit,e=n.index;return u.oxw().confirmCancelAppointment(o,e)}),u._uU(4,"Cancel Request"),u.qZA(),u.qZA(),u.qZA()}if(2&t){const t=u.oxw().$implicit;u.xp6(3),u.Q6J("disabled","COMPLETED"===t.bookingStatus)}}function O(t,n){if(1&t){const t=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td",10),u.TgZ(2,"div",11),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"td",12),u._uU(5),u.qZA(),u.TgZ(6,"td",12),u._uU(7),u.qZA(),u.TgZ(8,"td",12),u._uU(9),u.qZA(),u.TgZ(10,"td",12),u.TgZ(11,"div",15),u.TgZ(12,"ion-label",16),u.TgZ(13,"span",17),u._uU(14),u.qZA(),u.qZA(),u.TgZ(15,"div",18),u.TgZ(16,"ion-button",19),u.NdJ("click",function(){const n=u.CHM(t).$implicit;return n.options=!n.options}),u._UZ(17,"ion-icon",20),u.qZA(),u.qZA(),u.YNc(18,f,2,1,"div",21),u.qZA(),u.qZA(),u.TgZ(19,"td",22),u.TgZ(20,"div",23),u.TgZ(21,"ion-label",24),u.TgZ(22,"b"),u._uU(23,"Name:- "),u.qZA(),u._uU(24),u.qZA(),u.TgZ(25,"ion-label",24),u.TgZ(26,"b"),u._uU(27,"Slot Time:- "),u.qZA(),u._uU(28),u.qZA(),u.TgZ(29,"ion-label",24),u.TgZ(30,"b"),u._uU(31,"Room Number:- "),u.qZA(),u._uU(32),u.qZA(),u.TgZ(33,"ion-label",24),u.TgZ(34,"b"),u._uU(35,"Comments:- "),u.qZA(),u._uU(36),u.qZA(),u.YNc(37,m,2,1,"ion-label",25),u.TgZ(38,"div",26),u.TgZ(39,"div",27),u.TgZ(40,"ion-label",28),u.TgZ(41,"span",17),u._uU(42),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(43,"div",15),u.TgZ(44,"div",18),u.TgZ(45,"ion-button",19),u.NdJ("click",function(){const n=u.CHM(t).$implicit;return n.options=!n.options}),u._UZ(46,"ion-icon",20),u.qZA(),u.qZA(),u.YNc(47,b,2,1,"div",21),u.qZA(),u.qZA(),u.qZA(),u.YNc(48,_,5,1,"ng-template",null,29,u.W1O),u.qZA()}if(2&t){const t=n.$implicit,o=u.oxw();u.xp6(3),u.hij(" ",t.storeName," "),u.xp6(2),u.hij(" ",t.slotTime," "),u.xp6(2),u.hij(" ",t.room_no?t.room_no:"-"," "),u.xp6(2),u.hij(" ",t.comments," "),u.xp6(4),u.Q6J("className","consultation-status-tag new"),u.xp6(1),u.Oqu(t.bookingStatus?t.bookingStatus:"New"),u.xp6(4),u.Q6J("ngIf",t.options),u.xp6(6),u.Oqu(t.storeName),u.xp6(4),u.Oqu(t.slotTime),u.xp6(4),u.Oqu(t.room_no),u.xp6(4),u.Oqu(t.comments),u.xp6(1),u.Q6J("ngIf",!o.vendorDeatil.conceirge),u.xp6(4),u.Q6J("className","consultation-status-tag new"),u.xp6(1),u.Oqu(t.bookingStatus?t.bookingStatus:"New"),u.xp6(5),u.Q6J("ngIf",t.options)}}function M(t,n){1&t&&(u.TgZ(0,"div",34),u._uU(1," There are no pending appointments "),u.qZA())}const Z=[{path:"",component:(()=>{class t{constructor(t,n,o,e){this.appService=t,this.utilAlertService=n,this.loadingController=o,this.alertController=e,this.bookedCustomers=[],this.selectedDate=new Date}ngOnInit(){}ionViewWillEnter(){this.getVendorDeatil(),this.user=JSON.parse(localStorage.getItem("user")),this.user&&this.search()}selectPreviousDate(){this.selectedDate=g()(this.selectedDate).subtract(1,"days"),this.bookedCustomers=[],this.search()}selectNextDate(){this.selectedDate=g()(this.selectedDate).add(1,"days"),this.bookedCustomers=[],this.search()}search(){return(0,a.mG)(this,void 0,void 0,function*(){const t={userType:this.user.type,userId:this.user.userId,date:g()(this.selectedDate).format("DD-MM-YYYY")},n=yield this.loadingController.create({message:"Loading..."});yield n.present(),this.appService.getBookedCustomerList(t).subscribe(t=>{t&&t.body&&(this.bookedCustomers=t.body),n.dismiss()},()=>{n.dismiss()})})}confirmCancelAppointment(t,n){return(0,a.mG)(this,void 0,void 0,function*(){t.options=!1,yield(yield this.alertController.create({cssClass:"my-custom-class",header:"Confirm!",message:"Are you sure you want to cancel this request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Confirm",handler:()=>{this.cancelAppointment(t,n)}}]})).present()})}cancelAppointment(t,n){this.appService.cancelSlot({bookingId:t.idBooking}).subscribe(t=>{t&&t.body&&(this.bookedCustomers.splice(n,1),this.utilAlertService.showSuccess("Your slot is cancelled"))})}getVendorDeatil(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}}return t.\u0275fac=function(n){return new(n||t)(u.Y36(l.z),u.Y36(d.F),u.Y36(c.HT),u.Y36(c.Br))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-booked-slots"]],decls:29,vars:6,consts:[[1,"container"],[1,"date-selection"],["fill","clear","size","small",3,"click"],["slot","icon-only","name","chevron-back-sharp"],[1,"slots-showing-day"],["slot","icon-only","name","chevron-forward-sharp"],[1,"consultation-list-container","p-0"],[1,"p-0",2,"width","100%"],["size","12",1,"p-0"],[1,"consultation-table"],[1,"availability-column","ion-hide-sm-down",2,"width","20%"],[1,"d-flex","align-items-center"],[1,"ion-hide-sm-down",2,"width","20%"],[4,"ngFor","ngForOf"],["class","no-result",4,"ngIf"],[1,"action-container"],[1,"ion-text-wrap","mr-1",2,"min-width","200px"],[3,"className"],[1,"options"],["slot","end","tappable","","strong","true","fill","block",1,"menu-btn",3,"click"],["name","ellipsis-vertical"],["class","status-popover",4,"ngIf"],[1,"ion-hide-sm-up",2,"width","97%","padding-top","0"],[1,"mobile-view-contaner"],[1,"name"],["class","name",4,"ngIf"],[1,"status"],[1,"d-flex"],[1,"ion-text-wrap","mr-1"],["statusList",""],[1,"status-popover"],[4,"ngTemplateOutlet"],["name","close",3,"click"],[3,"disabled","click"],[1,"no-result"]],template:function(t,n){1&t&&(u.TgZ(0,"ion-content"),u.TgZ(1,"div",0),u.TgZ(2,"div",1),u.TgZ(3,"ion-button",2),u.NdJ("click",function(){return n.selectPreviousDate()}),u._UZ(4,"ion-icon",3),u.qZA(),u.TgZ(5,"ion-label",4),u._uU(6),u.ALo(7,"date"),u.qZA(),u.TgZ(8,"ion-button",2),u.NdJ("click",function(){return n.selectNextDate()}),u._UZ(9,"ion-icon",5),u.qZA(),u.qZA(),u.TgZ(10,"ion-grid",6),u.TgZ(11,"ion-row",7),u.TgZ(12,"ion-col",8),u.TgZ(13,"table",9),u.TgZ(14,"tbody"),u.TgZ(15,"tr"),u.TgZ(16,"td",10),u.TgZ(17,"div",11),u._uU(18,"Name"),u.qZA(),u.qZA(),u.TgZ(19,"td",12),u._uU(20," Slot Time "),u.qZA(),u.TgZ(21,"td",12),u._uU(22," Room Number "),u.qZA(),u.TgZ(23,"td",12),u._uU(24," Comments "),u.qZA(),u.TgZ(25,"td",12),u._uU(26," Status "),u.qZA(),u.qZA(),u.YNc(27,O,50,15,"tr",13),u.qZA(),u.qZA(),u.YNc(28,M,2,0,"div",14),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Oqu(u.xi3(7,3,n.selectedDate,"EE, MMMM d, yyyy")),u.xp6(21),u.Q6J("ngForOf",n.bookedCustomers),u.xp6(1),u.Q6J("ngIf",n.bookedCustomers&&0===n.bookedCustomers.length))},directives:[c.W2,c.YG,c.gu,c.Q$,c.jY,c.Nd,c.wI,e.sg,e.O5,e.tP],pipes:[e.uU],styles:[".booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.date-selection[_ngcontent-%COMP%]{display:flex;margin:4pt 0;justify-content:space-between;align-items:center}.date-selection[_ngcontent-%COMP%]   .slots-showing-day[_ngcontent-%COMP%]{font-size:12pt;color:#414141}.today[_ngcontent-%COMP%]{background-color:#000}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#3cb371}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn.old[_ngcontent-%COMP%]{--background: lightgrey}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;--background: #747474;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item.today[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{--background: mediumseagreen}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .age[_ngcontent-%COMP%]{font-size:80%}.text-right[_ngcontent-%COMP%]{text-align:right}.options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.options[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{font-size:9pt;--background: transparent;color:#414141;--background-hover: transparent}.appt-default-button[_ngcontent-%COMP%]{font-size:14px;--background: #ffffff;--border-width: 1px;--border-radius: 14px !important;--padding-start: 14px;--padding-end: 14px;--padding-top: 0px;--padding-bottom: 0px;--background-hover: #2cd18a;--background-hover-opacity: 1;--background-activated: #2cd18a;--box-shadow: none;height:28px;min-width:112px;line-height:normal;margin-left:4pt;font-weight:600}.appt-default-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{text-transform:none}.appt-default-button.book-btn[_ngcontent-%COMP%]{--border-color: #2cd18a;color:#414141}.appt-default-button.other-btn[_ngcontent-%COMP%]{--border-color: #b1b1b1;color:#414141}.appt-default-button[_ngcontent-%COMP%]:hover{color:#fff}.consultation-list-container[_ngcontent-%COMP%]{padding:0 40px}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]{width:100%}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#fafafa}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-label[_ngcontent-%COMP%]{font-size:14px;color:#414141}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:13px;color:#717171}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eae8e8}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.consultation-list-container[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;color:#414141;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-size:14px;color:#717171;line-height:20px;word-break:break-word}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#717171;font-size:12px;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex}.consultation-list-container[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{color:#df5e57;padding:8px;display:flex;justify-content:center}.consultation-status-tag[_ngcontent-%COMP%]{padding:2px 8px;border-radius:2px;font-size:11px;font-weight:600;color:#fff;background:#3688cb}.consultation-status-tag.new[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.PENDING[_ngcontent-%COMP%]{color:#fff;background:#9a92c9}.consultation-status-tag.SCHEDULED[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.IN_PROGRESS[_ngcontent-%COMP%]{color:#fff;background:#e88231}.consultation-status-tag.CANCELLED_BY_PATIENT[_ngcontent-%COMP%]{color:#fff;background:#df5e57}.consultation-status-tag.CANCELLED_BY_DOCTOR[_ngcontent-%COMP%]{color:#fff;background:#df5e57}.consultation-status-tag.CANCELLED_BY_SYSTEM[_ngcontent-%COMP%]{color:#fff;background:#df5e57}.consultation-status-tag.COMPLETED[_ngcontent-%COMP%]{color:#fff;background:#4f8b46}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[s.Bz.forChild(Z)],s.Bz]}),t})();var P=o(45642),x=o(37568);let A=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[[e.ez,i.u5,c.Pc,P.K,x.UU.forRoot(),h]]}),t})()}}]);