"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[399],{399:(Z,h,l)=>{l.r(h),l.d(h,{GuestPageModule:()=>Y});var c=l(6895),r=l(4006),u=l(4881),d=l(7885),M=l(739),g=l(5439),e=l(6353),_=l(1900);function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.addGuest())}),e.TgZ(3,"ion-item")(4,"ion-input",5),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guest.name=i)}),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-input",6),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guest.phonenumber=i)}),e.qZA()(),e.TgZ(7,"ion-button",7),e._uU(8,"Add Guest"),e.qZA()()()}if(2&n){const t=e.MAs(2),o=e.oxw();e.xp6(4),e.Q6J("ngModel",o.guest.name),e.xp6(2),e.Q6J("ngModel",o.guest.phonenumber),e.xp6(1),e.Q6J("disabled",t.invalid)}}function v(n,a){if(1&n&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t.roomNumber),e.xp6(1),e.Oqu(t.roomNumber)}}function f(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"form",3,8),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateGuestDetail())}),e.TgZ(3,"ion-item")(4,"ion-label"),e._uU(5,"Check In"),e.qZA(),e.TgZ(6,"ion-datetime",9),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guestDetail.checkIn=i)}),e.qZA()(),e.TgZ(7,"ion-item")(8,"ion-label"),e._uU(9,"Check Out"),e.qZA(),e.TgZ(10,"ion-datetime",10),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guestDetail.checkOut=i)}),e.qZA()(),e.TgZ(11,"ion-item",11)(12,"ion-label"),e._uU(13,"Select Room Number"),e.qZA(),e.TgZ(14,"ion-select",12),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guestDetail.roomId=i)}),e.YNc(15,v,2,2,"ion-select-option",13),e.qZA()(),e.TgZ(16,"ion-item",11)(17,"ion-input",14),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guestDetail.voucherNo=i)}),e.qZA()(),e.TgZ(18,"ion-item",11)(19,"ion-textarea",15),e.NdJ("ngModelChange",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.guestDetail.additionalGuest=i)}),e.qZA()(),e.TgZ(20,"ion-button",7),e._uU(21,"Update Guest Detail"),e.qZA()()()}if(2&n){const t=e.MAs(2),o=e.oxw();e.xp6(6),e.Q6J("ngModel",o.guestDetail.checkIn),e.xp6(4),e.Q6J("ngModel",o.guestDetail.checkOut),e.xp6(4),e.Q6J("ngModel",o.guestDetail.roomId),e.xp6(1),e.Q6J("ngForOf",o.rooms),e.xp6(2),e.Q6J("ngModel",o.guestDetail.voucherNo),e.xp6(2),e.Q6J("ngModel",o.guestDetail.additionalGuest),e.xp6(1),e.Q6J("disabled",t.invalid)}}class p{constructor(a,t,o,i,s,m){this.adminCreated=a,this.name=t,this.description=o,this.phonenumber=i,this.type=s,this.idCategory=m,this.type="c",this.adminCreated=!0}}class G{constructor(a,t,o,i,s,m,T){this.checkIn=a,this.checkOut=t,this.roomId=o,this.customerId=i,this.bookTime=s,this.voucherNo=m,this.additionalGuest=T,this.checkIn=g(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=g(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=g(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}}const C=[{path:"",component:(()=>{class n{constructor(t,o,i){this.appService=t,this.utilAlertService=o,this.router=i,this.guest=new p,this.guestDetail=new G,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(t=>{t&&t.body&&(this.guestDetail.customerId=t.body.userId,this.enableGuestDetail=!0,this.guest=new p)})}getRoomNumbers(){this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(o=>{o&&(this.rooms=o.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=g(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=g(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=g(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(t=>{t&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(t=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(M.z),e.Y36(_.F),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-guest"]],decls:4,vars:2,consts:[[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["guestForm","ngForm"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModel","ngModelChange"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModel","ngModelChange"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["guestDetailForm","ngForm"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModel","ngModelChange"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,o){1&t&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,D,9,3,"div",1),e.YNc(3,f,22,7,"div",1),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",!o.enableGuestDetail),e.xp6(1),e.Q6J("ngIf",o.enableGuestDetail))},dependencies:[c.sg,c.O5,r._Y,r.JJ,r.JL,r.Q7,r.c5,r.On,r.F,u.YG,u.W2,u.x4,u.pK,u.Ie,u.Q$,u.t9,u.n0,u.g2,u.QI,u.j9],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]}),n})()}];let b=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(C),d.Bz]}),n})();var x=l(5642);let Y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.ez,r.u5,u.Pc,x.K,b]}),n})()}}]);