"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3659],{3659:(N,h,r)=>{r.r(h),r.d(h,{GuestPageModule:()=>j});var d=r(177),l=r(9417),a=r(4654),g=r(9025),D=r(7366),c=r(7586),e=r(8699),G=r(8312);function M(s,u){if(1&s){const t=e.RV6();e.j41(0,"div",2)(1,"form",3,4),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.addGuest())}),e.j41(3,"ion-item")(4,"ion-input",5),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guest.name=n)}),e.k0s()(),e.j41(5,"ion-item")(6,"ion-input",6),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guest.phonenumber=n)}),e.k0s()(),e.j41(7,"ion-button",7),e.EFF(8,"Add Guest"),e.k0s()()()}if(2&s){const t=e.sdS(2),i=e.XpG();e.R7$(4),e.Y8G("ngModel",i.guest.name),e.R7$(2),e.Y8G("ngModel",i.guest.phonenumber),e.R7$(1),e.Y8G("disabled",t.invalid)}}function v(s,u){if(1&s&&(e.j41(0,"ion-select-option",16),e.EFF(1),e.k0s()),2&s){const t=u.$implicit;e.Y8G("value",t.roomNumber),e.R7$(1),e.JRh(t.roomNumber)}}function _(s,u){if(1&s){const t=e.RV6();e.j41(0,"div",2)(1,"form",3,8),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateGuestDetail())}),e.j41(3,"ion-item")(4,"ion-label"),e.EFF(5,"Check In"),e.k0s(),e.j41(6,"ion-datetime",9),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guestDetail.checkIn=n)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-label"),e.EFF(9,"Check Out"),e.k0s(),e.j41(10,"ion-datetime",10),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guestDetail.checkOut=n)}),e.k0s()(),e.j41(11,"ion-item",11)(12,"ion-label"),e.EFF(13,"Select Room Number"),e.k0s(),e.j41(14,"ion-select",12),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guestDetail.roomId=n)}),e.DNE(15,v,2,2,"ion-select-option",13),e.k0s()(),e.j41(16,"ion-item",11)(17,"ion-input",14),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guestDetail.voucherNo=n)}),e.k0s()(),e.j41(18,"ion-item",11)(19,"ion-textarea",15),e.bIt("ngModelChange",function(n){e.eBV(t);const o=e.XpG();return e.Njj(o.guestDetail.additionalGuest=n)}),e.k0s()(),e.j41(20,"ion-button",7),e.EFF(21,"Update Guest Detail"),e.k0s()()()}if(2&s){const t=e.sdS(2),i=e.XpG();e.R7$(6),e.Y8G("ngModel",i.guestDetail.checkIn),e.R7$(4),e.Y8G("ngModel",i.guestDetail.checkOut),e.R7$(4),e.Y8G("ngModel",i.guestDetail.roomId),e.R7$(1),e.Y8G("ngForOf",i.rooms),e.R7$(2),e.Y8G("ngModel",i.guestDetail.voucherNo),e.R7$(2),e.Y8G("ngModel",i.guestDetail.additionalGuest),e.R7$(1),e.Y8G("disabled",t.invalid)}}class p{constructor(u,t,i,n,o,m){this.adminCreated=u,this.name=t,this.description=i,this.phonenumber=n,this.type=o,this.idCategory=m,this.type="c",this.adminCreated=!0}}class b{constructor(u,t,i,n,o,m,I){this.checkIn=u,this.checkOut=t,this.roomId=i,this.customerId=n,this.bookTime=o,this.voucherNo=m,this.additionalGuest=I,this.checkIn=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}}const f=[{path:"",component:(()=>{class s{constructor(t,i,n){this.appService=t,this.utilAlertService=i,this.router=n,this.guest=new p,this.guestDetail=new b,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(t=>{t&&t.body&&(this.guestDetail.customerId=t.body.userId,this.enableGuestDetail=!0,this.guest=new p)})}getRoomNumbers(){this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(i=>{i&&(this.rooms=i.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=c(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=c(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=c(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(t=>{t&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(t=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(D.d),e.rXU(G.e),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-guest"]],decls:4,vars:2,consts:[[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["guestForm","ngForm"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModel","ngModelChange"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModel","ngModelChange"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["guestDetailForm","ngForm"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModel","ngModelChange"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModel","ngModelChange"],[3,"value"]],template:function(i,n){1&i&&(e.j41(0,"ion-content")(1,"div",0),e.DNE(2,M,9,3,"div",1),e.DNE(3,_,22,7,"div",1),e.k0s()()),2&i&&(e.R7$(2),e.Y8G("ngIf",!n.enableGuestDetail),e.R7$(1),e.Y8G("ngIf",n.enableGuestDetail))},dependencies:[d.Sq,d.bT,l.qT,l.BC,l.cb,l.YS,l.R_,l.vS,l.cV,a.Jm,a.W9,a.A9,a.$w,a.uz,a.he,a.Nm,a.Ip,a.nc,a.Je,a.Gw],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]})}}return s})()}];let Y=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(f),g.iI]})}}return s})();var C=r(5553);let j=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[d.MD,l.YN,a.bv,C.h,Y]})}}return s})()}}]);