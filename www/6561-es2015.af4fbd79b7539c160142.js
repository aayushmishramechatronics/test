"use strict";(self.webpackChunkschedulingApp=self.webpackChunkschedulingApp||[]).push([[6561],{56561:function(e,t,i){i.r(t),i.d(t,{GuestPageModule:function(){return b}});var n=i(12057),o=i(24751),s=i(46982),a=i(13644),r=i(85386),u=i(16738),l=i(292),g=i(51900);function c(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"form",3,4),l.NdJ("ngSubmit",function(){return l.CHM(e),l.oxw().addGuest()}),l.TgZ(3,"ion-item"),l.TgZ(4,"ion-input",5),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guest.name=t}),l.qZA(),l.qZA(),l.TgZ(5,"ion-item"),l.TgZ(6,"ion-input",6),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guest.phonenumber=t}),l.qZA(),l.qZA(),l.TgZ(7,"ion-button",7),l._uU(8,"Add Guest"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(2),t=l.oxw();l.xp6(4),l.Q6J("ngModel",t.guest.name),l.xp6(2),l.Q6J("ngModel",t.guest.phonenumber),l.xp6(1),l.Q6J("disabled",e.invalid)}}function d(e,t){if(1&e&&(l.TgZ(0,"ion-select-option",16),l._uU(1),l.qZA()),2&e){const e=t.$implicit;l.Q6J("value",e.roomNumber),l.xp6(1),l.Oqu(e.roomNumber)}}function h(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"form",3,8),l.NdJ("ngSubmit",function(){return l.CHM(e),l.oxw().updateGuestDetail()}),l.TgZ(3,"ion-item"),l.TgZ(4,"ion-label"),l._uU(5,"Check In"),l.qZA(),l.TgZ(6,"ion-datetime",9),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guestDetail.checkIn=t}),l.qZA(),l.qZA(),l.TgZ(7,"ion-item"),l.TgZ(8,"ion-label"),l._uU(9,"Check Out"),l.qZA(),l.TgZ(10,"ion-datetime",10),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guestDetail.checkOut=t}),l.qZA(),l.qZA(),l.TgZ(11,"ion-item",11),l.TgZ(12,"ion-label"),l._uU(13,"Select Room Number"),l.qZA(),l.TgZ(14,"ion-select",12),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guestDetail.roomId=t}),l.YNc(15,d,2,2,"ion-select-option",13),l.qZA(),l.qZA(),l.TgZ(16,"ion-item",11),l.TgZ(17,"ion-input",14),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guestDetail.voucherNo=t}),l.qZA(),l.qZA(),l.TgZ(18,"ion-item",11),l.TgZ(19,"ion-textarea",15),l.NdJ("ngModelChange",function(t){return l.CHM(e),l.oxw().guestDetail.additionalGuest=t}),l.qZA(),l.qZA(),l.TgZ(20,"ion-button",7),l._uU(21,"Update Guest Detail"),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.MAs(2),t=l.oxw();l.xp6(6),l.Q6J("ngModel",t.guestDetail.checkIn),l.xp6(4),l.Q6J("ngModel",t.guestDetail.checkOut),l.xp6(4),l.Q6J("ngModel",t.guestDetail.roomId),l.xp6(1),l.Q6J("ngForOf",t.rooms),l.xp6(2),l.Q6J("ngModel",t.guestDetail.voucherNo),l.xp6(2),l.Q6J("ngModel",t.guestDetail.additionalGuest),l.xp6(1),l.Q6J("disabled",e.invalid)}}class m{constructor(e,t,i,n,o,s){this.adminCreated=e,this.name=t,this.description=i,this.phonenumber=n,this.type=o,this.idCategory=s,this.type="c",this.adminCreated=!0}}class p{constructor(e,t,i,n,o,s,a){this.checkIn=e,this.checkOut=t,this.roomId=i,this.customerId=n,this.bookTime=o,this.voucherNo=s,this.additionalGuest=a,this.checkIn=u(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=u(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=u(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}}const D=[{path:"",component:(()=>{class e{constructor(e,t,i){this.appService=e,this.utilAlertService=t,this.router=i,this.guest=new m,this.guestDetail=new p,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(e=>{e&&e.body&&(this.guestDetail.customerId=e.body.userId,this.enableGuestDetail=!0,this.guest=new m)})}getRoomNumbers(){this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(e=>{e&&(this.rooms=e.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=u(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=u(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=u(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(e=>{e&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(e=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(e=>{this.vendorDeatil=e})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(r.z),l.Y36(g.F),l.Y36(a.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-guest"]],decls:4,vars:2,consts:[[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["guestForm","ngForm"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModel","ngModelChange"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModel","ngModelChange"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["guestDetailForm","ngForm"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModel","ngModelChange"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModel","ngModelChange"],[3,"value"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-content"),l.TgZ(1,"div",0),l.YNc(2,c,9,3,"div",1),l.YNc(3,h,22,7,"div",1),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngIf",!t.enableGuestDetail),l.xp6(1),l.Q6J("ngIf",t.enableGuestDetail))},directives:[s.W2,n.O5,o._Y,o.JL,o.F,s.Ie,s.pK,s.j9,o.Q7,o.JJ,o.On,o.c5,s.YG,s.Q$,s.x4,s.QI,s.t9,n.sg,s.g2,s.n0],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[a.Bz.forChild(D)],a.Bz]}),e})();var Z=i(45642);let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,o.u5,s.Pc,Z.K,M]]}),e})()}}]);