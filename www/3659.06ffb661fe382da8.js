"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3659],{3659:(k,h,r)=>{r.r(h),r.d(h,{GuestPageModule:()=>j});var m=r(177),l=r(9417),a=r(7415),g=r(9025),D=r(7366),c=r(7586),e=r(4438),M=r(8312);function G(n,u){if(1&n){const i=e.RV6();e.j41(0,"div",4)(1,"form",5,0),e.bIt("ngSubmit",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.addGuest())}),e.j41(3,"ion-item")(4,"ion-input",6),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guest.name,t)||(o.guest.name=t),e.Njj(t)}),e.k0s()(),e.j41(5,"ion-item")(6,"ion-input",7),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guest.phonenumber,t)||(o.guest.phonenumber=t),e.Njj(t)}),e.k0s()(),e.j41(7,"ion-button",8),e.EFF(8,"Add Guest"),e.k0s()()()}if(2&n){const i=e.sdS(2),s=e.XpG();e.R7$(4),e.R50("ngModel",s.guest.name),e.R7$(2),e.R50("ngModel",s.guest.phonenumber),e.R7$(),e.Y8G("disabled",i.invalid)}}function _(n,u){if(1&n&&(e.j41(0,"ion-select-option",16),e.EFF(1),e.k0s()),2&n){const i=u.$implicit;e.Y8G("value",i.roomNumber),e.R7$(),e.JRh(i.roomNumber)}}function f(n,u){if(1&n){const i=e.RV6();e.j41(0,"div",4)(1,"form",5,1),e.bIt("ngSubmit",function(){e.eBV(i);const t=e.XpG();return e.Njj(t.updateGuestDetail())}),e.j41(3,"ion-item")(4,"ion-label"),e.EFF(5,"Check In"),e.k0s(),e.j41(6,"ion-datetime",9),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guestDetail.checkIn,t)||(o.guestDetail.checkIn=t),e.Njj(t)}),e.k0s()(),e.j41(7,"ion-item")(8,"ion-label"),e.EFF(9,"Check Out"),e.k0s(),e.j41(10,"ion-datetime",10),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guestDetail.checkOut,t)||(o.guestDetail.checkOut=t),e.Njj(t)}),e.k0s()(),e.j41(11,"ion-item",11)(12,"ion-label"),e.EFF(13,"Select Room Number"),e.k0s(),e.j41(14,"ion-select",12),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guestDetail.roomId,t)||(o.guestDetail.roomId=t),e.Njj(t)}),e.DNE(15,_,2,2,"ion-select-option",13),e.k0s()(),e.j41(16,"ion-item",11)(17,"ion-input",14),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guestDetail.voucherNo,t)||(o.guestDetail.voucherNo=t),e.Njj(t)}),e.k0s()(),e.j41(18,"ion-item",11)(19,"ion-textarea",15),e.mxI("ngModelChange",function(t){e.eBV(i);const o=e.XpG();return e.DH7(o.guestDetail.additionalGuest,t)||(o.guestDetail.additionalGuest=t),e.Njj(t)}),e.k0s()(),e.j41(20,"ion-button",8),e.EFF(21,"Update Guest Detail"),e.k0s()()()}if(2&n){const i=e.sdS(2),s=e.XpG();e.R7$(6),e.R50("ngModel",s.guestDetail.checkIn),e.R7$(4),e.R50("ngModel",s.guestDetail.checkOut),e.R7$(4),e.R50("ngModel",s.guestDetail.roomId),e.R7$(),e.Y8G("ngForOf",s.rooms),e.R7$(2),e.R50("ngModel",s.guestDetail.voucherNo),e.R7$(2),e.R50("ngModel",s.guestDetail.additionalGuest),e.R7$(),e.Y8G("disabled",i.invalid)}}class p{constructor(u,i,s,t,o,d){this.adminCreated=u,this.name=i,this.description=s,this.phonenumber=t,this.type=o,this.idCategory=d,this.type="c",this.adminCreated=!0}}class b{constructor(u,i,s,t,o,d,I){this.checkIn=u,this.checkOut=i,this.roomId=s,this.customerId=t,this.bookTime=o,this.voucherNo=d,this.additionalGuest=I,this.checkIn=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}}const v=[{path:"",component:(()=>{class n{constructor(i,s,t){this.appService=i,this.utilAlertService=s,this.router=t,this.guest=new p,this.guestDetail=new b,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(i=>{i&&i.body&&(this.guestDetail.customerId=i.body.userId,this.enableGuestDetail=!0,this.guest=new p)})}getRoomNumbers(){this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(s=>{s&&(this.rooms=s.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=c(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=c(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=c(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(i=>{i&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(i=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(i=>{this.vendorDeatil=i})}static{this.\u0275fac=function(s){return new(s||n)(e.rXU(D.d),e.rXU(M.e),e.rXU(g.Ix))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-guest"]],decls:4,vars:2,consts:[["guestForm","ngForm"],["guestDetailForm","ngForm"],[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModelChange","ngModel"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModelChange","ngModel"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModelChange","ngModel"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModelChange","ngModel"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModelChange","ngModel"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModelChange","ngModel"],[3,"value"]],template:function(s,t){1&s&&(e.j41(0,"ion-content")(1,"div",2),e.DNE(2,G,9,3,"div",3)(3,f,22,7,"div",3),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("ngIf",!t.enableGuestDetail),e.R7$(),e.Y8G("ngIf",t.enableGuestDetail))},dependencies:[m.Sq,m.bT,l.qT,l.BC,l.cb,l.YS,l.R_,l.vS,l.cV,a.Jm,a.W9,a.A9,a.$w,a.uz,a.he,a.Nm,a.Ip,a.nc,a.Je,a.Gw],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]})}}return n})()}];let Y=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[g.iI.forChild(v),g.iI]})}}return n})();var C=r(5553);let j=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=e.$C({type:n})}static{this.\u0275inj=e.G2t({imports:[m.MD,l.YN,a.bv,C.h,Y]})}}return n})()}}]);