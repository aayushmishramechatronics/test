"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[399],{399:(Z,h,l)=>{l.r(h),l.d(h,{GuestPageModule:()=>T});var g=l(6895),u=l(4006),r=l(4881),d=l(7885),D=l(739),c=l(5439),e=l(6353),M=l(1900);function v(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"div",2)(1,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.addGuest())}),e.TgZ(3,"ion-item")(4,"ion-input",5),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guest.name=i)}),e.qZA()(),e.TgZ(5,"ion-item")(6,"ion-input",6),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guest.phonenumber=i)}),e.qZA()(),e.TgZ(7,"ion-button",7),e._uU(8,"Add Guest"),e.qZA()()()}if(2&o){const a=e.MAs(2),t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.guest.name),e.xp6(2),e.Q6J("ngModel",t.guest.phonenumber),e.xp6(1),e.Q6J("disabled",a.invalid)}}function _(o,n){if(1&o&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&o){const a=n.$implicit;e.Q6J("value",a.roomNumber),e.xp6(1),e.Oqu(a.roomNumber)}}function f(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"div",2)(1,"form",3,8),e.NdJ("ngSubmit",function(){e.CHM(a);const i=e.oxw();return e.KtG(i.updateGuestDetail())}),e.TgZ(3,"ion-item")(4,"ion-label"),e._uU(5,"Check In"),e.qZA(),e.TgZ(6,"ion-datetime",9),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guestDetail.checkIn=i)}),e.qZA()(),e.TgZ(7,"ion-item")(8,"ion-label"),e._uU(9,"Check Out"),e.qZA(),e.TgZ(10,"ion-datetime",10),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guestDetail.checkOut=i)}),e.qZA()(),e.TgZ(11,"ion-item",11)(12,"ion-label"),e._uU(13,"Select Room Number"),e.qZA(),e.TgZ(14,"ion-select",12),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guestDetail.roomId=i)}),e.YNc(15,_,2,2,"ion-select-option",13),e.qZA()(),e.TgZ(16,"ion-item",11)(17,"ion-input",14),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guestDetail.voucherNo=i)}),e.qZA()(),e.TgZ(18,"ion-item",11)(19,"ion-textarea",15),e.NdJ("ngModelChange",function(i){e.CHM(a);const s=e.oxw();return e.KtG(s.guestDetail.additionalGuest=i)}),e.qZA()(),e.TgZ(20,"ion-button",7),e._uU(21,"Update Guest Detail"),e.qZA()()()}if(2&o){const a=e.MAs(2),t=e.oxw();e.xp6(6),e.Q6J("ngModel",t.guestDetail.checkIn),e.xp6(4),e.Q6J("ngModel",t.guestDetail.checkOut),e.xp6(4),e.Q6J("ngModel",t.guestDetail.roomId),e.xp6(1),e.Q6J("ngForOf",t.rooms),e.xp6(2),e.Q6J("ngModel",t.guestDetail.voucherNo),e.xp6(2),e.Q6J("ngModel",t.guestDetail.additionalGuest),e.xp6(1),e.Q6J("disabled",a.invalid)}}class p{constructor(n,a,t,i,s,m){this.adminCreated=n,this.name=a,this.description=t,this.phonenumber=i,this.type=s,this.idCategory=m,this.type="c",this.adminCreated=!0}}class C{constructor(n,a,t,i,s,m,G){this.checkIn=n,this.checkOut=a,this.roomId=t,this.customerId=i,this.bookTime=s,this.voucherNo=m,this.additionalGuest=G,this.checkIn=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.checkOut=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.bookTime=c(new Date).format("YYYY-MM-DDTHH:mm:ss.001+05:30")}}const b=[{path:"",component:(()=>{const n=class{constructor(t,i,s){this.appService=t,this.utilAlertService=i,this.router=s,this.guest=new p,this.guestDetail=new C,this.enableGuestDetail=!1,this.rooms=[],this.getUserDetail(),this.getVendorDetail(),this.rooms=[1,2,3,4,5,6,7,8,9,10]}ngOnInit(){}ionViewWillEnter(){this.getRoomNumbers()}addGuest(){this.guest.idCategory||(this.guest.idCategory=this.vendorDeatil.idCategory),this.appService.signup(this.guest).subscribe(t=>{t&&t.body&&(this.guestDetail.customerId=t.body.userId,this.enableGuestDetail=!0,this.guest=new p)})}getRoomNumbers(){this.appService.getRooms({categoryId:this.vendorDeatil.idCategory}).subscribe(i=>{i&&(this.rooms=i.body)})}updateGuestDetail(){this.guestDetail.roomId?(this.guestDetail.checkIn=c(new Date(this.guestDetail.checkIn)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.checkOut=c(new Date(this.guestDetail.checkOut)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.guestDetail.bookTime=c(new Date(this.guestDetail.bookTime)).format("YYYY-MM-DDTHH:mm:ss.001+05:30"),this.appService.saveGuestDetail(this.guestDetail).subscribe(t=>{t&&this.router.navigate(["/guests-list"])})):this.utilAlertService.showAlert("Please select room number")}getUserDetail(){this.appService.userDetail.subscribe(t=>{})}getVendorDetail(){this.appService.vendorDeatil.subscribe(t=>{this.vendorDeatil=t})}};let o=n;return n.\u0275fac=function(i){return new(i||n)(e.Y36(D.z),e.Y36(M.F),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-guest"]],decls:4,vars:2,consts:[[1,"container"],["class","guest-form",4,"ngIf"],[1,"guest-form"],[2,"padding","15px",3,"ngSubmit"],["guestForm","ngForm"],["type","text","name","name","placeholder","Enter Name","required","",3,"ngModel","ngModelChange"],["pattern","[1-9]{1}[0-9]{9}","name","phone","placeholder","Enter MobileNumber","required","",3,"ngModel","ngModelChange"],["ion-button","","type","submit",1,"mt-3",3,"disabled"],["guestDetailForm","ngForm"],["name","checkinDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],["name","checkOutDate","displayFormat","DD MM, YYYY HH:mm",3,"ngModel","ngModelChange"],[1,"firstName-item"],["placeholder","Select Room Number","name","roomNumber",2,"min-width","100%",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","voucherNo","placeholder","Enter Voucher Number",3,"ngModel","ngModelChange"],["name","additionalGuest","placeholder","Enter Additional Guests",3,"ngModel","ngModelChange"],[3,"value"]],template:function(i,s){1&i&&(e.TgZ(0,"ion-content")(1,"div",0),e.YNc(2,v,9,3,"div",1),e.YNc(3,f,22,7,"div",1),e.qZA()()),2&i&&(e.xp6(2),e.Q6J("ngIf",!s.enableGuestDetail),e.xp6(1),e.Q6J("ngIf",s.enableGuestDetail))},dependencies:[g.sg,g.O5,u._Y,u.JJ,u.JL,u.Q7,u.c5,u.On,u.F,r.YG,r.W2,r.x4,r.pK,r.Ie,r.Q$,r.t9,r.n0,r.g2,r.QI,r.j9],styles:["ion-textarea[_ngcontent-%COMP%]{--placeholder-color: var(--ion-placeholder-color, var(--ion-color-step-400, #999999)) }ion-select[_ngcontent-%COMP%]{--placeholder-opacity: 0;min-width:auto!important;width:auto}"]}),o})()}];let x=(()=>{const n=class{};let o=n;return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(b),d.Bz]}),o})();var Y=l(5642);let T=(()=>{const n=class{};let o=n;return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,u.u5,r.Pc,Y.K,x]}),o})()}}]);