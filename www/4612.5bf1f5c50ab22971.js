"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4612],{4612:(S,b,r)=>{r.r(b),r.d(b,{BookedCustomersPageModule:()=>N});var g=r(6895),f=r(4006),d=r(4881),_=r(7885),C=r(5861),h=r(739),P=r(5439),p=r.n(P),t=r(6353),x=r(1900);function O(s,c){if(1&s&&(t.TgZ(0,"td",18)(1,"ion-label",36),t._uU(2),t.qZA()()),2&s){const n=t.oxw().$implicit,e=t.oxw();t.xp6(2),t.Oqu(e.vendorDeatil.conceirge?"":"Verification Code:"+n.verifyCode)}}function M(s,c){1&s&&t.GkF(0)}function k(s,c){if(1&s&&(t.TgZ(0,"div",37),t.YNc(1,M,1,0,"ng-container",38),t.qZA()),2&s){t.oxw();const n=t.MAs(61);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function Z(s,c){1&s&&t.GkF(0)}function v(s,c){if(1&s&&(t.TgZ(0,"div",37),t.YNc(1,Z,1,0,"ng-container",38),t.qZA()),2&s){t.oxw();const n=t.MAs(61);t.xp6(1),t.Q6J("ngTemplateOutlet",n)}}function T(s,c){if(1&s){const n=t.EpF();t.TgZ(0,"ion-icon",39),t.NdJ("click",function(){t.CHM(n);const o=t.oxw().$implicit;return t.KtG(o.options=!1)}),t.qZA(),t.TgZ(1,"ul")(2,"li")(3,"button",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(),i=o.$implicit,a=o.index,l=t.oxw();return t.KtG(l.statusUpdate(i,"IN_PROGRESS",a))}),t._uU(4,"In Progress"),t.qZA()(),t.TgZ(5,"li")(6,"button",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(),i=o.$implicit,a=o.index,l=t.oxw();return t.KtG(l.statusUpdate(i,"COMPLETED",a))}),t._uU(7,"Completed"),t.qZA()(),t.TgZ(8,"li")(9,"button",40),t.NdJ("click",function(){t.CHM(n);const o=t.oxw(),i=o.$implicit,a=o.index,l=t.oxw();return t.KtG(l.confirmCancelAppointment(i,a))}),t._uU(10,"Cancel Request"),t.qZA()()()}if(2&s){const n=t.oxw().$implicit;t.xp6(3),t.Q6J("disabled","COMPLETED"===n.bookingStatus),t.xp6(3),t.Q6J("disabled","COMPLETED"===n.bookingStatus),t.xp6(3),t.Q6J("disabled","COMPLETED"===n.bookingStatus)}}function y(s,c){if(1&s){const n=t.EpF();t.TgZ(0,"tr")(1,"td",14)(2,"div",15),t._uU(3),t.qZA()(),t.TgZ(4,"td",16),t._uU(5),t.qZA(),t.TgZ(6,"td",17),t._uU(7),t.qZA(),t.TgZ(8,"td",16),t._uU(9),t.qZA(),t.TgZ(10,"td",16),t._uU(11),t._UZ(12,"br"),t._uU(13),t.qZA(),t.TgZ(14,"td",18),t._uU(15),t.qZA(),t.YNc(16,O,3,1,"td",21),t.TgZ(17,"td",17)(18,"div",22)(19,"ion-label",23)(20,"span",24),t._uU(21),t.qZA()(),t.TgZ(22,"div",25)(23,"ion-button",26),t.NdJ("click",function(){const i=t.CHM(n).$implicit;return t.KtG(i.options=!i.options)}),t._UZ(24,"ion-icon",27),t.qZA()(),t.YNc(25,k,2,1,"div",28),t.qZA()(),t.TgZ(26,"td",29)(27,"div",30)(28,"ion-label",31)(29,"b"),t._uU(30,"Customer Name:- "),t.qZA(),t._uU(31),t.qZA(),t.TgZ(32,"ion-label",31)(33,"b"),t._uU(34,"Phone Number:- "),t.qZA(),t._uU(35),t.qZA(),t.TgZ(36,"ion-label",31)(37,"b"),t._uU(38,"Slot Time:-"),t.qZA(),t._uU(39),t.qZA(),t.TgZ(40,"ion-label",31)(41,"b"),t._uU(42,"Room Number:- "),t.qZA(),t._uU(43),t.qZA(),t.TgZ(44,"ion-label",31)(45,"b"),t._uU(46,"Booked Service"),t.qZA(),t._uU(47),t.qZA(),t.TgZ(48,"ion-label",31),t._uU(49),t.qZA(),t.TgZ(50,"div",32)(51,"div",33)(52,"ion-label",34)(53,"span",24),t._uU(54),t.qZA()()()(),t.TgZ(55,"div",22)(56,"div",25)(57,"ion-button",26),t.NdJ("click",function(){const i=t.CHM(n).$implicit;return t.KtG(i.options=!i.options)}),t._UZ(58,"ion-icon",27),t.qZA()(),t.YNc(59,v,2,1,"div",28),t.qZA()()(),t.YNc(60,T,11,3,"ng-template",null,35,t.W1O),t.qZA()}if(2&s){const n=c.$implicit,e=t.oxw();t.xp6(3),t.hij(" ",n.CustomerName," "),t.xp6(2),t.hij(" ",n.CustomerPhoneNumber," "),t.xp6(2),t.hij(" ",n.slotTime," "),t.xp6(2),t.hij(" ",n.room_no?n.room_no:"-"," "),t.xp6(2),t.hij(" ",n.bookedService,""),t.xp6(2),t.hij(" ",n.storeName," "),t.xp6(2),t.hij(" ",n.comments," "),t.xp6(1),t.Q6J("ngIf",!e.vendorDeatil.conceirge),t.xp6(4),t.Q6J("className",n.bookingStatus?"consultation-status-tag "+n.bookingStatus:"consultation-status-tag new"),t.xp6(1),t.Oqu(n.bookingStatus?n.bookingStatus:"New"),t.xp6(4),t.Q6J("ngIf",n.options),t.xp6(6),t.Oqu(n.CustomerName),t.xp6(4),t.Oqu(n.CustomerPhoneNumber),t.xp6(4),t.Oqu(n.slotTime),t.xp6(4),t.Oqu(n.room_no),t.xp6(4),t.Oqu(n.bookedService),t.xp6(2),t.Oqu(e.vendorDeatil.conceirge?"":"Verification Code:"+n.verifyCode),t.xp6(4),t.Q6J("className",n.bookingStatus?"consultation-status-tag "+n.bookingStatus:"consultation-status-tag new"),t.xp6(1),t.Oqu(n.bookingStatus?n.bookingStatus:"New"),t.xp6(5),t.Q6J("ngIf",n.options)}}function w(s,c){1&s&&(t.TgZ(0,"div",41),t._uU(1," There are no pending appointments "),t.qZA())}const A=[{path:"",component:(()=>{const c=class{constructor(e,o,i,a,l,u,m){this.appService=e,this.activatedRoute=o,this.router=i,this.utilAlertService=a,this.loadingController=l,this.popoverController=u,this.alertController=m,this.bookedCustomers=[],this.selectedDate=new Date}ngOnInit(){}ionViewWillEnter(){this.getUserDetail(),this.getVendorDeatil(),this.user=JSON.parse(localStorage.getItem("user")),this.activatedRoute.params.subscribe(e=>{e&&(this.storeId=e.id,this.selectedUser=this.storeId?this.user.shops.find(o=>o.phonenumber===this.storeId):this.user,this.selectedUser&&this.search())})}selectPreviousDate(){this.selectedDate=p()(this.selectedDate).subtract(1,"days"),this.bookedCustomers=[],this.search()}selectNextDate(){this.selectedDate=p()(this.selectedDate).add(1,"days"),this.bookedCustomers=[],this.search()}search(){var e=this;return(0,C.Z)(function*(){const o=yield e.loadingController.create({message:"Loading..."});yield o.present();const i={userType:e.selectedUser.type,userId:e.selectedUser.userId,date:p()(e.selectedDate).format("DD-MM-YYYY")};e.bookedCustomers=[],e.appService.getBookedCustomerList(i).subscribe(a=>{o.dismiss(),a&&a.body&&(e.bookedCustomers=a.body)},()=>{o.dismiss()})})()}createAppointment(){this.selectedUser&&this.selectedUser.loginId&&this.router.navigate(["/stores",this.selectedUser.loginId],{queryParams:{adminCreated:!0}})}statusUpdate(e,o,i){var a=this;return(0,C.Z)(function*(){e.options=!1;const l=yield a.loadingController.create({message:"Loading..."});yield l.present(),a.appService.updateStatus({idBooking:e.idBooking,status:o}).subscribe(m=>{m&&m.body&&(l.dismiss(),a.bookedCustomers[i].bookingStatus=m.body.status,a.utilAlertService.showSuccess("Your slot status updated successfully"))},()=>{l.dismiss()})})()}confirmCancelAppointment(e,o){var i=this;return(0,C.Z)(function*(){e.options=!1,yield(yield i.alertController.create({cssClass:"my-custom-class",header:"Confirm!",message:"Are you sure you want to cancel this request?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:l=>{}},{text:"Confirm",handler:()=>{i.cancelAppointment(e,o)}}]})).present()})()}cancelAppointment(e,o){var i=this;return(0,C.Z)(function*(){const a=yield i.loadingController.create({message:"Loading..."});yield a.present(),i.appService.cancelSlot({bookingId:e.idBooking}).subscribe(u=>{u&&u.body&&(a.dismiss(),i.bookedCustomers.splice(o,1),i.utilAlertService.showSuccess("Your slot is cancelled"))},()=>{a.dismiss()})})()}getUserDetail(){this.appService.userDetail.subscribe(e=>{this.user=e,this.selectedUser=e})}getVendorDeatil(){this.appService.vendorDeatil.subscribe(e=>{this.vendorDeatil=e})}editShop(){this.router.navigate(["/shop-keeper"])}isTodayCheck(){return p()(new Date).format("DD-MM-YYYY")===p()(this.selectedDate).format("DD-MM-YYYY")}};let s=c;return c.\u0275fac=function(o){return new(o||c)(t.Y36(h.z),t.Y36(_.gz),t.Y36(_.F0),t.Y36(x.F),t.Y36(d.HT),t.Y36(d.Dh),t.Y36(d.Br))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-booked-customers"]],decls:39,vars:6,consts:[[1,"theme-bg-content-area"],[1,"container"],[1,"d-block",2,"text-align","right","margin","8pt 16pt","display","flex","justify-content","flex-end","align-items","center"],["tappable","","fill","outline",1,"pay-now-btn",3,"click"],["name","refresh-circle-outline"],[1,"date-selection"],["fill","clear","size","small",3,"click"],["slot","icon-only","name","chevron-back-sharp"],[1,"slots-showing-day"],["slot","icon-only","name","chevron-forward-sharp"],[1,"consultation-list-container","p-0"],[1,"p-0",2,"width","100%"],["size","12",1,"p-0"],[1,"consultation-table"],[1,"availability-column","ion-hide-sm-down",2,"width","15%"],[1,"d-flex","align-items-center"],[1,"ion-hide-sm-down",2,"width","15%"],[1,"ion-hide-sm-down",2,"width","10%"],[1,"ion-hide-sm-down",2,"width","20%"],[4,"ngFor","ngForOf"],["class","no-result",4,"ngIf"],["style","width: 20%;","class","ion-hide-sm-down",4,"ngIf"],[1,"action-container"],[1,"ion-text-wrap","mr-1",2,"min-width","200px"],[3,"className"],[1,"options"],["slot","end","tappable","","strong","true","fill","block",1,"menu-btn",3,"click"],["name","ellipsis-vertical"],["class","status-popover",4,"ngIf"],[1,"ion-hide-sm-up",2,"width","97%","padding-top","0"],[1,"mobile-view-contaner"],[1,"name"],[1,"status"],[1,"d-flex"],[1,"ion-text-wrap","mr-1"],["statusList",""],[1,"ion-text-wrap"],[1,"status-popover"],[4,"ngTemplateOutlet"],["name","close",3,"click"],[3,"disabled","click"],[1,"no-result"]],template:function(o,i){1&o&&(t.TgZ(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"ion-button",3),t.NdJ("click",function(){return i.createAppointment()}),t.TgZ(4,"span"),t._uU(5,"Create Appointment"),t.qZA()(),t.TgZ(6,"ion-button",3),t.NdJ("click",function(){return i.search()}),t._UZ(7,"ion-icon",4),t.qZA()(),t.TgZ(8,"div",5)(9,"ion-button",6),t.NdJ("click",function(){return i.selectPreviousDate()}),t._UZ(10,"ion-icon",7),t.qZA(),t.TgZ(11,"ion-label",8),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"ion-button",6),t.NdJ("click",function(){return i.selectNextDate()}),t._UZ(15,"ion-icon",9),t.qZA()(),t.TgZ(16,"ion-grid",10)(17,"ion-row",11)(18,"ion-col",12)(19,"table",13)(20,"tbody")(21,"tr")(22,"td",14)(23,"div",15),t._uU(24,"Customer Name"),t.qZA()(),t.TgZ(25,"td",16),t._uU(26," Phone Number "),t.qZA(),t.TgZ(27,"td",17),t._uU(28," Slot Time "),t.qZA(),t.TgZ(29,"td",16),t._uU(30," Room Number "),t.qZA(),t.TgZ(31,"td",16),t._uU(32," Booked Service "),t.qZA(),t.TgZ(33,"td",18),t._uU(34," Comments "),t.qZA(),t.TgZ(35,"td",17),t._uU(36," Status "),t.qZA()(),t.YNc(37,y,62,20,"tr",19),t.qZA()(),t.YNc(38,w,2,0,"div",20),t.qZA()()()()()),2&o&&(t.xp6(12),t.Oqu(t.xi3(13,3,i.selectedDate,"EE, MMMM d, yyyy")),t.xp6(25),t.Q6J("ngForOf",i.bookedCustomers),t.xp6(1),t.Q6J("ngIf",i.bookedCustomers&&0===i.bookedCustomers.length))},dependencies:[g.sg,g.O5,g.tP,d.YG,d.wI,d.W2,d.jY,d.gu,d.Q$,d.Nd,g.uU],styles:[".booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.booked-customer-list[_ngcontent-%COMP%]   .booked-customer-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.date-selection[_ngcontent-%COMP%]{display:flex;margin:4pt 0;justify-content:space-between;align-items:center}.date-selection[_ngcontent-%COMP%]   .slots-showing-day[_ngcontent-%COMP%]{font-size:12pt;color:#414141}.today[_ngcontent-%COMP%]{background-color:#000}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]{font-size:9pt;color:#414141;font-weight:400;--min-height: 32px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .name-label[_ngcontent-%COMP%]   .available-icon[_ngcontent-%COMP%]{color:#3cb371}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   --padding[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .start-btn.old[_ngcontent-%COMP%]{--background: lightgrey}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{min-height:15px;font-size:7pt;font-weight:500;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 0px;--padding-bottom: 0px;line-height:unset;--border-radius: 3px;--background: #747474;color:#f3f3f3}.consultation-list[_ngcontent-%COMP%]   .consultation-item.today[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{--background: mediumseagreen}.consultation-list[_ngcontent-%COMP%]   .consultation-item[_ngcontent-%COMP%]   .age[_ngcontent-%COMP%]{font-size:80%}.text-right[_ngcontent-%COMP%]{text-align:right}.options[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;width:100%}.options[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{font-size:9pt;--background: transparent;color:#414141;--background-hover: transparent}.appt-default-button[_ngcontent-%COMP%]{font-size:14px;--background: #ffffff;--border-width: 1px;--border-radius: 14px !important;--padding-start: 14px;--padding-end: 14px;--padding-top: 0px;--padding-bottom: 0px;--background-hover: #2cd18a;--background-hover-opacity: 1;--background-activated: #2cd18a;--box-shadow: none;height:28px;min-width:112px;line-height:normal;margin-left:4pt;font-weight:600}.appt-default-button[_ngcontent-%COMP%]   .button-label[_ngcontent-%COMP%]{text-transform:none}.appt-default-button.book-btn[_ngcontent-%COMP%]{--border-color: #2cd18a;color:#414141}.appt-default-button.other-btn[_ngcontent-%COMP%]{--border-color: #b1b1b1;color:#414141}.appt-default-button[_ngcontent-%COMP%]:hover{color:#fff}.consultation-list-container[_ngcontent-%COMP%]{padding:0 40px}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]{width:100%}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .today[_ngcontent-%COMP%]{background-color:#fafafa}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .value-label[_ngcontent-%COMP%]{font-size:14px;color:#414141}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   .text-small[_ngcontent-%COMP%]{font-size:13px;color:#717171}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #eae8e8}.consultation-list-container[_ngcontent-%COMP%]   .consultation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px}.consultation-list-container[_ngcontent-%COMP%]   .action-container[_ngcontent-%COMP%]{display:flex;align-items:center}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]{display:flex;flex-direction:column}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:14px;color:#414141;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .patient-name[_ngcontent-%COMP%]{font-size:14px;color:#717171;line-height:20px;word-break:break-word}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#717171;font-size:12px;line-height:20px}.consultation-list-container[_ngcontent-%COMP%]   .mobile-view-contaner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:flex}.consultation-list-container[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{color:#df5e57;padding:8px;display:flex;justify-content:center}.consultation-status-tag[_ngcontent-%COMP%]{padding:2px 8px;border-radius:2px;font-size:11px;font-weight:600}.consultation-status-tag.new[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.PENDING[_ngcontent-%COMP%]{color:#fff;background:#9a92c9}.consultation-status-tag.SCHEDULED[_ngcontent-%COMP%]{color:#fff;background:#3688cb}.consultation-status-tag.IN_PROGRESS[_ngcontent-%COMP%]{color:#fff;background:#e88231}.consultation-status-tag.COMPLETED[_ngcontent-%COMP%]{color:#fff;background:#4f8b46}"]}),s})()}];let U=(()=>{const c=class{};let s=c;return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[_.Bz.forChild(A),_.Bz]}),s})();var q=r(5642);let N=(()=>{const c=class{};let s=c;return c.\u0275fac=function(o){return new(o||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[g.ez,f.u5,d.Pc,q.K,U]}),s})()}}]);