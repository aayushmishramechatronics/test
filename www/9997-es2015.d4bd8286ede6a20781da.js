"use strict";(self.webpackChunkschedulingApp=self.webpackChunkschedulingApp||[]).push([[9997],{99997:function(e,t,i){i.r(t),i.d(t,{UserShopsPageModule:function(){return A}});var n=i(12057),s=i(24751),o=i(46982),r=i(13644),u=i(97582),l=i(85386),p=i(292),c=i(51900),a=i(48561);function d(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-button",5),p.NdJ("click",function(){return p.CHM(e),p.oxw().addGuest()}),p.TgZ(1,"span"),p._uU(2,"Add Guest"),p.qZA(),p.qZA()}}const h=function(e){return["/booked-customers",e]},g=function(e){return["/shop-keeper",e]};function Z(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"ion-item",6),p.TgZ(1,"ion-grid"),p.TgZ(2,"ion-row"),p.TgZ(3,"ion-col",7),p.TgZ(4,"ion-label",8),p._uU(5),p.qZA(),p.qZA(),p.TgZ(6,"ion-col",7),p.TgZ(7,"ion-label",8),p._uU(8),p.qZA(),p.qZA(),p.TgZ(9,"ion-col",7),p.TgZ(10,"ion-label",8),p._uU(11),p.ALo(12,"parseNumber"),p.qZA(),p.qZA(),p.TgZ(13,"ion-col"),p.TgZ(14,"ion-button",9),p.TgZ(15,"span"),p._uU(16,"View Request"),p.qZA(),p.qZA(),p.TgZ(17,"ion-button",9),p.TgZ(18,"span"),p._uU(19,"Edit"),p.qZA(),p.qZA(),p.TgZ(20,"ion-button",10),p.NdJ("click",function(){const t=p.CHM(e).$implicit;return p.oxw().deleteShop(t)}),p.TgZ(21,"span"),p._uU(22,"Delete"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()}if(2&e){const e=t.$implicit,i=p.oxw();p.xp6(5),p.Oqu(e.name),p.xp6(3),p.Oqu(e.description),p.xp6(3),p.Oqu(i.vendorDeatil.conceirge?"":p.lcZ(12,5,e.phonenumber)),p.xp6(3),p.Q6J("routerLink",p.VKq(7,h,e.phonenumber)),p.xp6(3),p.Q6J("routerLink",p.VKq(9,g,e.phonenumber))}}const b=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.appService=e,this.router=t,this.loadingController=i,this.utilAlertService=n,this.userShops=[],this.getUserDetail(),this.getVendorDetail()}ngOnInit(){}ionViewWillEnter(){}getUserDetail(){this.appService.userDetail.subscribe(e=>{this.user=e,e&&(this.userShops=this.user.shops)})}getVendorDetail(){this.appService.vendorDeatil.subscribe(e=>{this.vendorDeatil=e})}addShop(){return(0,u.mG)(this,void 0,void 0,function*(){if(this.user){const e=yield this.loadingController.create({message:"Loading..."});yield e.present(),this.appService.signup({name:"",description:"",phonenumber:this.user.phonenumber+"_new",idCategory:this.vendorDeatil.idCategory,password:"",type:"S"}).subscribe(t=>{t&&t.body&&(e.dismiss(),this.user.shops.push(t.body),localStorage.setItem("user",JSON.stringify(this.user)),this.appService.setUserDetail(this.user),this.router.navigate(["/shop-keeper",t.body.phonenumber]))})}else this.utilAlertService.showAlert("Internel server error! Please try after some time")})}addGuest(){this.router.navigate(["/guest"])}viewGuests(){this.router.navigate(["/guests-list"])}deleteShop(e){this.appService.deleteShop({query:e.userId}).subscribe(e=>{this.getUserDetail();const t=this.userShops.findIndex(t=>t.userId===e);-1!==t&&(this.userShops.splice(t,1),this.user.shops=this.userShops,this.appService.setUserDetail(this.user))})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(l.z),p.Y36(r.F0),p.Y36(o.HT),p.Y36(c.F))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-user-shops"]],decls:9,vars:3,consts:[[1,"container"],[1,"pay-now-btn-fill",3,"click"],["tappable","","class","pay-now-btn ml-2","fill","outline",3,"click",4,"ngIf"],[1,"booked-customer-list",2,"display","block"],["class","booked-customer-item",4,"ngFor","ngForOf"],["tappable","","fill","outline",1,"pay-now-btn","ml-2",3,"click"],[1,"booked-customer-item"],["size-xs","12","size-sm","12","size-md","6","size-lg","3"],[1,"ion-text-wrap"],["tappable","","fill","outline",1,"pay-now-btn",3,"routerLink"],["tappable","","fill","outline",1,"pay-now-btn",3,"click"]],template:function(e,t){1&e&&(p.TgZ(0,"ion-content"),p.TgZ(1,"div",0),p.TgZ(2,"ion-item"),p.TgZ(3,"ion-button",1),p.NdJ("click",function(){return t.addShop()}),p.TgZ(4,"span"),p._uU(5),p.qZA(),p.qZA(),p.YNc(6,d,3,0,"ion-button",2),p.qZA(),p.TgZ(7,"ion-list",3),p.YNc(8,Z,23,11,"ion-item",4),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(5),p.hij("Add New ",t.vendorDeatil?t.vendorDeatil.serviceLabel:"Service",""),p.xp6(1),p.Q6J("ngIf","Front Desk"===(null==t.user?null:t.user.name)),p.xp6(2),p.Q6J("ngForOf",t.userShops))},directives:[o.W2,o.Ie,o.YG,n.O5,o.q_,n.sg,o.jY,o.Nd,o.wI,o.Q$,o.YI,r.rH],pipes:[a.i],styles:[".v-divider[_ngcontent-%COMP%]{width:1px!important;padding:0;font-size:1px;flex:none;max-width:1px!important;border-right:1px solid #dcdcdc}.pay-now-btn-fill[_ngcontent-%COMP%]{--background: #1a8cd2;--color: white}"]}),e})()}];let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})();var f=i(45642);let A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[n.ez,s.u5,o.Pc,f.K,m]]}),e})()}}]);